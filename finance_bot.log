2025-05-26 14:29:34,292 - utils.database - INFO - Database initialized successfully
2025-05-26 14:29:34,293 - aiogram.dispatcher - INFO - Start polling
2025-05-26 14:29:34,674 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 14:29:50,287 - aiogram.event - INFO - Update id=870286620 is handled. Duration 359 ms by bot id=7862612604
2025-05-26 14:29:53,193 - aiogram.event - INFO - Update id=870286621 is handled. Duration 164 ms by bot id=7862612604
2025-05-26 14:30:36,186 - aiogram.event - INFO - Update id=870286622 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 14:30:46,427 - aiogram.event - INFO - Update id=870286623 is not handled. Duration 1 ms by bot id=7862612604
2025-05-26 14:30:58,512 - aiogram.event - INFO - Update id=870286624 is not handled. Duration 1 ms by bot id=7862612604
2025-05-26 14:31:08,438 - aiogram.event - INFO - Update id=870286625 is handled. Duration 303 ms by bot id=7862612604
2025-05-26 14:31:12,230 - aiogram.event - INFO - Update id=870286626 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 14:31:16,838 - aiogram.event - INFO - Update id=870286627 is handled. Duration 307 ms by bot id=7862612604
2025-05-26 14:31:20,915 - aiogram.event - INFO - Update id=870286628 is handled. Duration 186 ms by bot id=7862612604
2025-05-26 14:31:27,077 - aiogram.event - INFO - Update id=870286629 is handled. Duration 307 ms by bot id=7862612604
2025-05-26 14:32:00,867 - aiogram.event - INFO - Update id=870286630 is handled. Duration 158 ms by bot id=7862612604
2025-05-26 14:32:03,153 - aiogram.event - INFO - Update id=870286631 is handled. Duration 156 ms by bot id=7862612604
2025-05-26 14:32:13,673 - aiogram.event - INFO - Update id=870286632 is handled. Duration 175 ms by bot id=7862612604
2025-05-26 14:32:17,819 - aiogram.event - INFO - Update id=870286633 is handled. Duration 148 ms by bot id=7862612604
2025-05-26 14:32:21,647 - aiogram.event - INFO - Update id=870286634 is handled. Duration 485 ms by bot id=7862612604
2025-05-26 14:32:25,490 - aiogram.event - INFO - Update id=870286635 is handled. Duration 435 ms by bot id=7862612604
2025-05-26 14:32:44,845 - aiogram.event - INFO - Update id=870286636 is handled. Duration 166 ms by bot id=7862612604
2025-05-26 14:32:59,402 - aiogram.event - INFO - Update id=870286637 is handled. Duration 915 ms by bot id=7862612604
2025-05-26 14:33:24,763 - aiogram.event - INFO - Update id=870286638 is handled. Duration 253 ms by bot id=7862612604
2025-05-26 14:33:27,263 - aiogram.event - INFO - Update id=870286639 is handled. Duration 135 ms by bot id=7862612604
2025-05-26 14:33:33,975 - aiogram.event - INFO - Update id=870286640 is handled. Duration 162 ms by bot id=7862612604
2025-05-26 14:33:41,796 - aiogram.event - INFO - Update id=870286641 is handled. Duration 296 ms by bot id=7862612604
2025-05-26 14:33:43,338 - aiogram.event - INFO - Update id=870286642 is handled. Duration 137 ms by bot id=7862612604
2025-05-26 14:33:54,633 - aiogram.event - INFO - Update id=870286643 is handled. Duration 220 ms by bot id=7862612604
2025-05-26 14:33:57,607 - aiogram.event - INFO - Update id=870286644 is handled. Duration 178 ms by bot id=7862612604
2025-05-26 14:34:01,182 - aiogram.event - INFO - Update id=870286645 is handled. Duration 169 ms by bot id=7862612604
2025-05-26 14:34:02,611 - aiogram.event - INFO - Update id=870286646 is handled. Duration 140 ms by bot id=7862612604
2025-05-26 14:34:09,723 - aiogram.event - INFO - Update id=870286647 is handled. Duration 449 ms by bot id=7862612604
2025-05-26 14:34:15,414 - aiogram.event - INFO - Update id=870286648 is handled. Duration 206 ms by bot id=7862612604
2025-05-26 14:34:17,947 - aiogram.event - INFO - Update id=870286649 is handled. Duration 144 ms by bot id=7862612604
2025-05-26 14:34:41,448 - aiogram.event - INFO - Update id=870286650 is handled. Duration 1000 ms by bot id=7862612604
2025-05-26 14:39:24,776 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 14:39:24,776 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 14:39:36,366 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 14:44:21,691 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 14:44:21,692 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 14:44:33,228 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 14:44:50,914 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 14:44:50,922 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 14:44:50,923 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 14:44:55,182 - utils.database - INFO - Database initialized successfully
2025-05-26 14:44:55,183 - aiogram.dispatcher - INFO - Start polling
2025-05-26 14:44:56,036 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 14:45:02,490 - aiogram.event - INFO - Update id=870286651 is handled. Duration 1946 ms by bot id=7862612604
2025-05-26 14:45:16,072 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 14:45:16,073 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 14:45:16,073 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 14:46:53,194 - utils.database - INFO - Database initialized successfully
2025-05-26 14:46:53,203 - aiogram.dispatcher - INFO - Start polling
2025-05-26 14:46:54,095 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 14:48:15,506 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 14:48:15,507 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 14:48:27,384 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 14:50:17,455 - aiogram.event - INFO - Update id=870286652 is handled. Duration 2045 ms by bot id=7862612604
2025-05-26 14:52:35,285 - aiogram.event - INFO - Update id=870286653 is not handled. Duration 1 ms by bot id=7862612604
2025-05-26 14:52:43,001 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 14:52:43,001 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 14:52:43,001 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 14:52:46,654 - utils.database - INFO - Database initialized successfully
2025-05-26 14:52:46,654 - aiogram.dispatcher - INFO - Start polling
2025-05-26 14:52:48,721 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 14:52:51,463 - aiogram.event - INFO - Update id=870286654 is handled. Duration 820 ms by bot id=7862612604
2025-05-26 14:53:01,188 - aiogram.event - INFO - Update id=870286655 is handled. Duration 203 ms by bot id=7862612604
2025-05-26 14:53:09,895 - aiogram.event - INFO - Update id=870286656 is handled. Duration 1231 ms by bot id=7862612604
2025-05-26 14:57:11,068 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 14:57:11,069 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 14:57:11,069 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 14:57:14,258 - utils.database - INFO - Database initialized successfully
2025-05-26 14:57:14,259 - aiogram.dispatcher - INFO - Start polling
2025-05-26 14:57:14,910 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 14:57:19,998 - aiogram.event - INFO - Update id=870286657 is handled. Duration 966 ms by bot id=7862612604
2025-05-26 14:57:25,275 - aiogram.event - INFO - Update id=870286658 is handled. Duration 199 ms by bot id=7862612604
2025-05-26 14:57:30,087 - aiogram.event - INFO - Update id=870286659 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 14:57:31,828 - aiogram.event - INFO - Update id=870286660 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 14:57:34,490 - aiogram.event - INFO - Update id=870286661 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 14:57:36,131 - aiogram.event - INFO - Update id=870286662 is handled. Duration 513 ms by bot id=7862612604
2025-05-26 14:57:54,363 - aiogram.event - INFO - Update id=870286663 is handled. Duration 300 ms by bot id=7862612604
2025-05-26 14:57:57,735 - aiogram.event - INFO - Update id=870286664 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 14:58:13,197 - aiogram.event - INFO - Update id=870286665 is handled. Duration 253 ms by bot id=7862612604
2025-05-26 14:58:16,510 - aiogram.event - INFO - Update id=870286666 is handled. Duration 178 ms by bot id=7862612604
2025-05-26 14:58:18,893 - aiogram.event - INFO - Update id=870286667 is handled. Duration 192 ms by bot id=7862612604
2025-05-26 14:59:03,455 - aiogram.event - INFO - Update id=870286668 is handled. Duration 388 ms by bot id=7862612604
2025-05-26 14:59:13,920 - aiogram.event - INFO - Update id=870286669 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 14:59:18,327 - aiogram.event - INFO - Update id=870286670 is handled. Duration 154 ms by bot id=7862612604
2025-05-26 14:59:19,864 - aiogram.event - INFO - Update id=870286671 is handled. Duration 186 ms by bot id=7862612604
2025-05-26 15:00:32,563 - aiogram.event - INFO - Update id=870286672 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 15:00:42,770 - aiogram.event - INFO - Update id=870286673 is handled. Duration 271 ms by bot id=7862612604
2025-05-26 15:01:27,859 - aiogram.event - INFO - Update id=870286674 is handled. Duration 303 ms by bot id=7862612604
2025-05-26 15:01:31,713 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 15:01:31,714 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 15:01:31,714 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 15:06:33,589 - utils.database - INFO - Database initialized successfully
2025-05-26 15:06:33,590 - aiogram.dispatcher - INFO - Start polling
2025-05-26 15:06:34,054 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 15:06:34,629 - aiogram.event - INFO - Update id=870286675 is handled. Duration 458 ms by bot id=7862612604
2025-05-26 15:07:25,290 - aiogram.event - INFO - Update id=870286676 is handled. Duration 250 ms by bot id=7862612604
2025-05-26 15:07:30,438 - aiogram.event - INFO - Update id=870286677 is handled. Duration 170 ms by bot id=7862612604
2025-05-26 15:07:37,337 - aiogram.event - INFO - Update id=870286678 is handled. Duration 144 ms by bot id=7862612604
2025-05-26 15:08:00,905 - aiogram.event - INFO - Update id=870286679 is handled. Duration 168 ms by bot id=7862612604
2025-05-26 15:08:04,173 - aiogram.event - INFO - Update id=870286680 is handled. Duration 165 ms by bot id=7862612604
2025-05-26 15:08:06,868 - aiogram.event - INFO - Update id=870286681 is handled. Duration 153 ms by bot id=7862612604
2025-05-26 15:09:06,425 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 15:09:06,434 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 15:09:06,434 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 15:09:09,772 - utils.database - INFO - Database initialized successfully
2025-05-26 15:09:09,773 - aiogram.dispatcher - INFO - Start polling
2025-05-26 15:09:10,200 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 15:09:11,289 - aiogram.event - INFO - Update id=870286682 is handled. Duration 451 ms by bot id=7862612604
2025-05-26 15:11:00,980 - aiogram.event - INFO - Update id=870286683 is handled. Duration 155 ms by bot id=7862612604
2025-05-26 15:15:40,440 - aiogram.event - INFO - Update id=870286684 is handled. Duration 919 ms by bot id=7862612604
2025-05-26 15:17:52,012 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 15:17:52,012 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 15:18:03,495 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 15:18:35,124 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-26 15:18:35,125 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 15:18:46,470 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 15:19:55,625 - aiogram.event - INFO - Update id=870286685 is handled. Duration 511 ms by bot id=7862612604
2025-05-26 15:19:57,571 - aiogram.event - INFO - Update id=870286686 is handled. Duration 203 ms by bot id=7862612604
2025-05-26 15:20:08,744 - aiogram.event - INFO - Update id=870286687 is handled. Duration 215 ms by bot id=7862612604
2025-05-26 15:20:12,932 - aiogram.event - INFO - Update id=870286688 is handled. Duration 304 ms by bot id=7862612604
2025-05-26 15:20:18,155 - aiogram.event - INFO - Update id=870286689 is handled. Duration 205 ms by bot id=7862612604
2025-05-26 15:20:19,935 - aiogram.event - INFO - Update id=870286690 is handled. Duration 244 ms by bot id=7862612604
2025-05-26 15:20:30,235 - aiogram.event - INFO - Update id=870286691 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 15:20:33,925 - aiogram.event - INFO - Update id=870286692 is handled. Duration 309 ms by bot id=7862612604
2025-05-26 15:20:41,742 - aiogram.event - INFO - Update id=870286693 is handled. Duration 1405 ms by bot id=7862612604
2025-05-26 15:28:18,682 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 15:28:18,682 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 15:28:30,442 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 15:31:39,737 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 15:31:39,738 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 15:31:39,738 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 15:35:12,941 - utils.database - INFO - Database initialized successfully
2025-05-26 15:35:12,942 - aiogram.dispatcher - INFO - Start polling
2025-05-26 15:35:14,218 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 16:05:00,858 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 16:05:00,859 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 16:05:00,859 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 16:07:09,879 - utils.database - INFO - Database initialized successfully
2025-05-26 16:07:09,880 - aiogram.dispatcher - INFO - Start polling
2025-05-26 16:07:10,573 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 16:07:26,672 - aiogram.event - INFO - Update id=870286694 is handled. Duration 924 ms by bot id=7862612604
2025-05-26 16:08:01,713 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 16:08:01,714 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 16:08:01,714 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 16:09:23,760 - utils.database - INFO - Database initialized successfully
2025-05-26 16:09:23,761 - aiogram.dispatcher - INFO - Start polling
2025-05-26 16:09:24,369 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 16:09:25,668 - aiogram.event - INFO - Update id=870286695 is handled. Duration 919 ms by bot id=7862612604
2025-05-26 16:10:04,680 - aiogram.event - INFO - Update id=870286696 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 16:10:52,401 - aiogram.event - INFO - Update id=870286697 is handled. Duration 307 ms by bot id=7862612604
2025-05-26 16:11:04,903 - aiogram.event - INFO - Update id=870286698 is handled. Duration 520 ms by bot id=7862612604
2025-05-26 16:11:18,207 - aiogram.event - INFO - Update id=870286699 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 16:11:26,915 - aiogram.event - INFO - Update id=870286700 is handled. Duration 1232 ms by bot id=7862612604
2025-05-26 16:12:24,056 - aiogram.event - INFO - Update id=870286701 is not handled. Duration 2 ms by bot id=7862612604
2025-05-26 16:12:34,090 - aiogram.event - INFO - Update id=870286702 is handled. Duration 308 ms by bot id=7862612604
2025-05-26 16:13:56,422 - aiogram.event - INFO - Update id=870286703 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 16:14:21,101 - aiogram.event - INFO - Update id=870286704 is handled. Duration 157 ms by bot id=7862612604
2025-05-26 16:14:42,823 - aiogram.event - INFO - Update id=870286705 is handled. Duration 319 ms by bot id=7862612604
2025-05-26 16:14:45,986 - aiogram.event - INFO - Update id=870286706 is handled. Duration 507 ms by bot id=7862612604
2025-05-26 16:14:52,949 - aiogram.event - INFO - Update id=870286707 is handled. Duration 614 ms by bot id=7862612604
2025-05-26 16:14:56,635 - aiogram.event - INFO - Update id=870286708 is handled. Duration 404 ms by bot id=7862612604
2025-05-26 16:15:20,495 - aiogram.event - INFO - Update id=870286709 is handled. Duration 407 ms by bot id=7862612604
2025-05-26 16:15:22,236 - aiogram.event - INFO - Update id=870286710 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 16:15:27,768 - aiogram.event - INFO - Update id=870286711 is handled. Duration 308 ms by bot id=7862612604
2025-05-26 16:16:06,168 - aiogram.event - INFO - Update id=870286712 is handled. Duration 307 ms by bot id=7862612604
2025-05-26 16:16:13,336 - aiogram.event - INFO - Update id=870286713 is handled. Duration 708 ms by bot id=7862612604
2025-05-26 16:16:14,156 - aiogram.event - INFO - Update id=870286714 is handled. Duration 307 ms by bot id=7862612604
2025-05-26 16:16:40,270 - aiogram.event - INFO - Update id=870286715 is handled. Duration 615 ms by bot id=7862612604
2025-05-26 16:16:55,219 - aiogram.event - INFO - Update id=870286716 is handled. Duration 608 ms by bot id=7862612604
2025-05-26 16:16:56,550 - aiogram.event - INFO - Update id=870286717 is handled. Duration 511 ms by bot id=7862612604
2025-05-26 16:16:57,677 - aiogram.event - INFO - Update id=870286718 is handled. Duration 511 ms by bot id=7862612604
2025-05-26 16:16:58,906 - aiogram.event - INFO - Update id=870286719 is handled. Duration 511 ms by bot id=7862612604
2025-05-26 16:17:01,056 - aiogram.event - INFO - Update id=870286720 is handled. Duration 818 ms by bot id=7862612604
2025-05-26 16:17:05,976 - aiogram.event - INFO - Update id=870286721 is handled. Duration 311 ms by bot id=7862612604
2025-05-26 16:17:55,535 - aiogram.event - INFO - Update id=870286722 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 16:18:15,106 - aiogram.event - INFO - Update id=870286723 is handled. Duration 177 ms by bot id=7862612604
2025-05-26 16:18:22,672 - aiogram.event - INFO - Update id=870286724 is handled. Duration 609 ms by bot id=7862612604
2025-05-26 16:18:29,842 - aiogram.event - INFO - Update id=870286725 is handled. Duration 410 ms by bot id=7862612604
2025-05-26 16:18:31,685 - aiogram.event - INFO - Update id=870286726 is handled. Duration 513 ms by bot id=7862612604
2025-05-26 16:18:32,914 - aiogram.event - INFO - Update id=870286727 is handled. Duration 507 ms by bot id=7862612604
2025-05-26 16:22:46,059 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 16:22:46,060 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 16:22:46,060 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 16:22:52,339 - utils.database - INFO - Database initialized successfully
2025-05-26 16:22:52,341 - aiogram.dispatcher - INFO - Start polling
2025-05-26 16:22:53,125 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 16:22:55,068 - aiogram.event - INFO - Update id=870286728 is handled. Duration 1326 ms by bot id=7862612604
2025-05-26 16:22:57,218 - aiogram.event - INFO - Update id=870286729 is handled. Duration 505 ms by bot id=7862612604
2025-05-26 16:23:04,692 - aiogram.event - INFO - Update id=870286730 is handled. Duration 509 ms by bot id=7862612604
2025-05-26 16:23:06,006 - aiogram.event - INFO - Update id=870286731 is handled. Duration 385 ms by bot id=7862612604
2025-05-26 16:24:58,261 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 16:24:58,261 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 16:25:10,241 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 16:30:20,183 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 16:30:20,183 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 16:30:31,584 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 16:32:23,598 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 16:32:23,606 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 16:32:35,335 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 16:37:12,987 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-26 16:37:12,988 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 16:37:21,608 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 16:37:21,609 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 16:37:21,609 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 17:24:21,955 - utils.database - INFO - Database initialized successfully
2025-05-26 17:24:21,961 - aiogram.dispatcher - INFO - Start polling
2025-05-26 17:24:23,297 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 17:36:49,480 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 17:36:49,480 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 17:37:01,372 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 17:47:11,202 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-26 17:47:11,203 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 17:47:22,989 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 18:28:43,205 - aiogram.event - INFO - Update id=870286732 is handled. Duration 800 ms by bot id=7862612604
2025-05-26 18:28:49,779 - aiogram.event - INFO - Update id=870286733 is handled. Duration 211 ms by bot id=7862612604
2025-05-26 18:28:52,262 - aiogram.event - INFO - Update id=870286734 is handled. Duration 343 ms by bot id=7862612604
2025-05-26 18:29:18,119 - aiogram.event - INFO - Update id=870286735 is handled. Duration 401 ms by bot id=7862612604
2025-05-26 18:29:20,376 - aiogram.event - INFO - Update id=870286736 is handled. Duration 202 ms by bot id=7862612604
2025-05-26 19:35:42,130 - aiogram.event - INFO - Update id=870286737 is handled. Duration 821 ms by bot id=7862612604
2025-05-26 19:36:15,812 - aiogram.event - INFO - Update id=870286738 is handled. Duration 301 ms by bot id=7862612604
2025-05-26 19:36:18,786 - aiogram.event - INFO - Update id=870286739 is handled. Duration 413 ms by bot id=7862612604
2025-05-26 19:36:35,062 - aiogram.event - INFO - Update id=870286740 is handled. Duration 306 ms by bot id=7862612604
2025-05-26 19:36:47,952 - aiogram.event - INFO - Update id=870286741 is handled. Duration 201 ms by bot id=7862612604
2025-05-26 19:37:20,181 - aiogram.event - INFO - Update id=870286742 is handled. Duration 201 ms by bot id=7862612604
2025-05-26 19:37:27,451 - aiogram.event - INFO - Update id=870286743 is handled. Duration 308 ms by bot id=7862612604
2025-05-26 19:37:28,883 - aiogram.event - INFO - Update id=870286744 is handled. Duration 515 ms by bot id=7862612604
2025-05-26 19:37:37,069 - aiogram.event - INFO - Update id=870286745 is handled. Duration 309 ms by bot id=7862612604
2025-05-26 19:38:03,914 - aiogram.event - INFO - Update id=870286746 is handled. Duration 235 ms by bot id=7862612604
2025-05-26 19:38:12,253 - aiogram.event - INFO - Update id=870286747 is handled. Duration 288 ms by bot id=7862612604
2025-05-26 19:38:18,964 - aiogram.event - INFO - Update id=870286748 is handled. Duration 1267 ms by bot id=7862612604
2025-05-26 20:24:46,636 - aiogram.event - INFO - Update id=870286749 is handled. Duration 724 ms by bot id=7862612604
2025-05-26 20:24:59,122 - aiogram.event - INFO - Update id=870286750 is handled. Duration 356 ms by bot id=7862612604
2025-05-26 20:25:32,406 - aiogram.event - INFO - Update id=870286751 is handled. Duration 302 ms by bot id=7862612604
2025-05-26 20:25:37,427 - aiogram.event - INFO - Update id=870286752 is handled. Duration 408 ms by bot id=7862612604
2025-05-26 20:25:39,885 - aiogram.event - INFO - Update id=870286753 is handled. Duration 305 ms by bot id=7862612604
2025-05-26 20:26:43,991 - aiogram.event - INFO - Update id=870286754 is handled. Duration 207 ms by bot id=7862612604
2025-05-26 20:26:46,662 - aiogram.event - INFO - Update id=870286755 is handled. Duration 166 ms by bot id=7862612604
2025-05-26 20:26:55,362 - aiogram.event - INFO - Update id=870286756 is handled. Duration 310 ms by bot id=7862612604
2025-05-26 20:31:11,318 - aiogram.event - INFO - Update id=870286757 is handled. Duration 223 ms by bot id=7862612604
2025-05-26 20:31:14,679 - aiogram.event - INFO - Update id=870286758 is handled. Duration 204 ms by bot id=7862612604
2025-05-26 20:44:15,944 - aiogram.event - INFO - Update id=870286759 is handled. Duration 1335 ms by bot id=7862612604
2025-05-26 20:44:17,680 - aiogram.event - INFO - Update id=870286760 is handled. Duration 198 ms by bot id=7862612604
2025-05-26 20:44:25,772 - aiogram.event - INFO - Update id=870286761 is handled. Duration 517 ms by bot id=7862612604
2025-05-26 20:45:28,542 - aiogram.event - INFO - Update id=870286762 is handled. Duration 407 ms by bot id=7862612604
2025-05-26 20:45:32,025 - aiogram.event - INFO - Update id=870286763 is handled. Duration 616 ms by bot id=7862612604
2025-05-26 20:45:33,254 - aiogram.event - INFO - Update id=870286764 is handled. Duration 511 ms by bot id=7862612604
2025-05-26 20:45:35,305 - aiogram.event - INFO - Update id=870286765 is handled. Duration 616 ms by bot id=7862612604
2025-05-26 20:45:36,634 - aiogram.event - INFO - Update id=870286766 is handled. Duration 509 ms by bot id=7862612604
2025-05-26 20:45:37,146 - aiogram.event - INFO - Update id=870286767 is handled. Duration 719 ms by bot id=7862612604
2025-05-26 20:46:18,522 - aiogram.event - INFO - Update id=870286768 is handled. Duration 995 ms by bot id=7862612604
2025-05-26 20:46:19,952 - aiogram.event - INFO - Update id=870286769 is handled. Duration 619 ms by bot id=7862612604
2025-05-26 21:05:34,163 - aiogram.event - INFO - Update id=870286770 is handled. Duration 195 ms by bot id=7862612604
2025-05-26 21:06:58,230 - aiogram.event - INFO - Update id=870286771 is handled. Duration 293 ms by bot id=7862612604
2025-05-26 21:07:07,758 - aiogram.event - INFO - Update id=870286772 is handled. Duration 413 ms by bot id=7862612604
2025-05-26 21:07:24,140 - aiogram.event - INFO - Update id=870286773 is handled. Duration 613 ms by bot id=7862612604
2025-05-26 21:07:25,673 - aiogram.event - INFO - Update id=870286774 is handled. Duration 610 ms by bot id=7862612604
2025-05-26 21:07:33,865 - aiogram.event - INFO - Update id=870286775 is handled. Duration 712 ms by bot id=7862612604
2025-05-26 21:07:35,097 - aiogram.event - INFO - Update id=870286776 is handled. Duration 606 ms by bot id=7862612604
2025-05-26 21:07:38,067 - aiogram.event - INFO - Update id=870286777 is handled. Duration 813 ms by bot id=7862612604
2025-05-26 21:07:42,469 - aiogram.event - INFO - Update id=870286778 is handled. Duration 510 ms by bot id=7862612604
2025-05-26 21:31:52,665 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-05-26 21:31:52,666 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 21:32:04,266 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 21:35:05,189 - aiogram.event - INFO - Update id=870286779 is handled. Duration 571 ms by bot id=7862612604
2025-05-26 22:18:44,323 - aiogram.event - INFO - Update id=870286780 is handled. Duration 921 ms by bot id=7862612604
2025-05-26 22:18:57,740 - aiogram.event - INFO - Update id=870286781 is handled. Duration 195 ms by bot id=7862612604
2025-05-26 22:19:07,160 - aiogram.event - INFO - Update id=870286782 is not handled. Duration 2 ms by bot id=7862612604
2025-05-26 22:19:13,425 - aiogram.event - INFO - Update id=870286783 is handled. Duration 222 ms by bot id=7862612604
2025-05-26 22:19:18,495 - aiogram.event - INFO - Update id=870286784 is handled. Duration 274 ms by bot id=7862612604
2025-05-26 22:19:20,861 - aiogram.event - INFO - Update id=870286785 is handled. Duration 328 ms by bot id=7862612604
2025-05-26 22:59:51,573 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 22:59:51,573 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 22:59:51,573 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 23:26:22,630 - utils.database - INFO - Database initialized successfully
2025-05-26 23:26:22,631 - aiogram.dispatcher - INFO - Start polling
2025-05-26 23:26:23,950 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 23:39:56,642 - aiogram.event - INFO - Update id=870286786 is handled. Duration 857 ms by bot id=7862612604
2025-05-26 23:39:58,534 - aiogram.event - INFO - Update id=870286787 is handled. Duration 378 ms by bot id=7862612604
2025-05-26 23:40:03,663 - aiogram.event - INFO - Update id=870286788 is handled. Duration 188 ms by bot id=7862612604
2025-05-26 23:40:19,269 - aiogram.event - INFO - Update id=870286789 is handled. Duration 994 ms by bot id=7862612604
2025-05-26 23:44:55,001 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-26 23:44:55,001 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-26 23:45:06,529 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-26 23:49:10,675 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 23:49:10,676 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 23:49:10,676 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 23:49:13,906 - utils.database - INFO - Database initialized successfully
2025-05-26 23:49:13,906 - aiogram.dispatcher - INFO - Start polling
2025-05-26 23:49:14,673 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 23:49:18,540 - utils.database - ERROR - Fetchall error: near "ORDER": syntax error | Query: SELECT title, target_amount FROM wishes 
                      WHERE user_id = ? 
                      LIMIT ? OFFSET ? ORDER BY 2
2025-05-26 23:49:18,541 - aiogram.event - INFO - Update id=870286790 is not handled. Duration 1 ms by bot id=7862612604
2025-05-26 23:49:18,541 - aiogram.event - ERROR - Cause exception while process update id=870286790 by bot id=7862612604
OperationalError: near "ORDER": syntax error
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 138, in pagination_handler
    await show_wishlist_page(
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 96, in show_wishlist_page
    wishes, total_pages = await get_wishlist_page(user_id, page)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 72, in get_wishlist_page
    wishes = fetchall('''SELECT title, target_amount FROM wishes
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/utils/database.py", line 87, in fetchall
    c.execute(query, args)
sqlite3.OperationalError: near "ORDER": syntax error
2025-05-26 23:54:50,126 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-26 23:54:50,127 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 23:54:50,127 - aiogram.dispatcher - INFO - Polling stopped
2025-05-26 23:54:53,429 - utils.database - INFO - Database initialized successfully
2025-05-26 23:54:53,431 - aiogram.dispatcher - INFO - Start polling
2025-05-26 23:54:54,115 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-26 23:54:56,607 - aiogram.event - INFO - Update id=870286791 is handled. Duration 862 ms by bot id=7862612604
2025-05-26 23:55:00,599 - aiogram.event - INFO - Update id=870286792 is handled. Duration 513 ms by bot id=7862612604
2025-05-26 23:55:04,381 - aiogram.event - INFO - Update id=870286793 is handled. Duration 385 ms by bot id=7862612604
2025-05-26 23:55:07,416 - aiogram.event - INFO - Update id=870286794 is handled. Duration 371 ms by bot id=7862612604
2025-05-26 23:55:09,284 - aiogram.event - INFO - Update id=870286795 is handled. Duration 312 ms by bot id=7862612604
2025-05-26 23:55:15,141 - aiogram.event - INFO - Update id=870286796 is handled. Duration 271 ms by bot id=7862612604
2025-05-26 23:55:20,049 - aiogram.event - INFO - Update id=870286797 is handled. Duration 415 ms by bot id=7862612604
2025-05-26 23:55:21,501 - aiogram.event - INFO - Update id=870286798 is handled. Duration 739 ms by bot id=7862612604
2025-05-26 23:55:37,958 - aiogram.event - INFO - Update id=870286799 is handled. Duration 191 ms by bot id=7862612604
2025-05-26 23:59:45,288 - aiogram.event - INFO - Update id=870286800 is handled. Duration 416 ms by bot id=7862612604
2025-05-26 23:59:46,890 - aiogram.event - INFO - Update id=870286801 is handled. Duration 421 ms by bot id=7862612604
2025-05-27 00:11:06,657 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 00:11:06,657 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 00:11:18,407 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 00:11:41,757 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 00:11:41,757 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 00:11:53,155 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 00:11:53,156 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 00:11:53,156 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 00:12:04,689 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 00:13:32,740 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:13:32,740 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:13:32,740 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:13:48,454 - utils.database - INFO - Database initialized successfully
2025-05-27 00:13:48,455 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:13:49,165 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:14:02,142 - aiogram.event - INFO - Update id=870286802 is handled. Duration 572 ms by bot id=7862612604
2025-05-27 00:14:19,507 - aiogram.event - INFO - Update id=870286803 is handled. Duration 152 ms by bot id=7862612604
2025-05-27 00:19:52,400 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:19:52,401 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:19:52,401 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:21:45,236 - utils.database - INFO - Database initialized successfully
2025-05-27 00:21:45,237 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:21:45,923 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:21:51,035 - aiogram.event - INFO - Update id=870286804 is handled. Duration 534 ms by bot id=7862612604
2025-05-27 00:21:53,701 - aiogram.event - INFO - Update id=870286805 is handled. Duration 220 ms by bot id=7862612604
2025-05-27 00:24:57,839 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:24:57,840 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:24:57,840 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:25:00,239 - utils.database - INFO - Database initialized successfully
2025-05-27 00:25:00,240 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:25:01,299 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:25:05,687 - aiogram.event - INFO - Update id=870286806 is handled. Duration 823 ms by bot id=7862612604
2025-05-27 00:25:10,591 - aiogram.event - INFO - Update id=870286807 is not handled. Duration 1 ms by bot id=7862612604
2025-05-27 00:25:15,718 - aiogram.event - INFO - Update id=870286808 is handled. Duration 173 ms by bot id=7862612604
2025-05-27 00:25:20,235 - aiogram.event - INFO - Update id=870286809 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 00:25:20,235 - aiogram.event - ERROR - Cause exception while process update id=870286809 by bot id=7862612604
NameError: name 'wish' is not defined
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 277, in handle_edit_field_choice
    await state.update_data(wish_id=wish[0])
                                    ^^^^
NameError: name 'wish' is not defined
2025-05-27 00:26:29,534 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:26:29,535 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:26:29,535 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:26:32,020 - utils.database - INFO - Database initialized successfully
2025-05-27 00:26:32,021 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:26:32,772 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:26:37,589 - aiogram.event - INFO - Update id=870286810 is not handled. Duration 1 ms by bot id=7862612604
2025-05-27 00:26:48,019 - aiogram.event - INFO - Update id=870286811 is handled. Duration 664 ms by bot id=7862612604
2025-05-27 00:26:51,301 - aiogram.event - INFO - Update id=870286812 is handled. Duration 155 ms by bot id=7862612604
2025-05-27 00:26:52,084 - aiogram.event - INFO - Update id=870286813 is not handled. Duration 1 ms by bot id=7862612604
2025-05-27 00:26:52,084 - aiogram.event - ERROR - Cause exception while process update id=870286813 by bot id=7862612604
NameError: name 'wish' is not defined
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 285, in handle_edit_field_choice
    await state.update_data(wish_id=wish[0])
                                    ^^^^
NameError: name 'wish' is not defined
2025-05-27 00:28:05,606 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:28:05,606 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:28:05,606 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:29:01,296 - utils.database - INFO - Database initialized successfully
2025-05-27 00:29:01,297 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:29:01,984 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:29:03,841 - aiogram.event - INFO - Update id=870286814 is handled. Duration 577 ms by bot id=7862612604
2025-05-27 00:29:09,371 - aiogram.event - INFO - Update id=870286815 is handled. Duration 179 ms by bot id=7862612604
2025-05-27 00:29:39,965 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:29:39,965 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:29:39,965 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:29:42,381 - utils.database - INFO - Database initialized successfully
2025-05-27 00:29:42,382 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:29:43,024 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:29:43,734 - aiogram.event - INFO - Update id=870286816 is handled. Duration 568 ms by bot id=7862612604
2025-05-27 00:29:47,015 - aiogram.event - INFO - Update id=870286817 is handled. Duration 199 ms by bot id=7862612604
2025-05-27 00:30:25,288 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:30:25,288 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:30:25,289 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:30:28,337 - utils.database - INFO - Database initialized successfully
2025-05-27 00:30:28,337 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:30:29,023 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:30:30,469 - aiogram.event - INFO - Update id=870286818 is handled. Duration 606 ms by bot id=7862612604
2025-05-27 00:30:31,918 - aiogram.event - INFO - Update id=870286819 is handled. Duration 140 ms by bot id=7862612604
2025-05-27 00:31:59,743 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:31:59,744 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:31:59,744 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:32:02,673 - utils.database - INFO - Database initialized successfully
2025-05-27 00:32:02,674 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:32:03,361 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:32:04,070 - aiogram.event - INFO - Update id=870286820 is handled. Duration 598 ms by bot id=7862612604
2025-05-27 00:32:06,389 - aiogram.event - INFO - Update id=870286821 is handled. Duration 152 ms by bot id=7862612604
2025-05-27 00:32:10,104 - aiogram.event - INFO - Update id=870286822 is not handled. Duration 1 ms by bot id=7862612604
2025-05-27 00:32:10,104 - aiogram.event - ERROR - Cause exception while process update id=870286822 by bot id=7862612604
NameError: name 'wish' is not defined
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 287, in handle_edit_field_choice
    await state.update_data(wish_id=wish[0])
                                    ^^^^
NameError: name 'wish' is not defined
2025-05-27 00:33:00,606 - aiogram.event - INFO - Update id=870286823 is handled. Duration 197 ms by bot id=7862612604
2025-05-27 00:33:05,223 - aiogram.event - INFO - Update id=870286824 is handled. Duration 184 ms by bot id=7862612604
2025-05-27 00:33:07,793 - aiogram.event - INFO - Update id=870286825 is handled. Duration 172 ms by bot id=7862612604
2025-05-27 00:35:02,781 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:35:02,782 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:35:02,782 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:42:23,527 - utils.database - INFO - Database initialized successfully
2025-05-27 00:42:23,527 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:42:24,166 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:42:27,585 - aiogram.event - INFO - Update id=870286826 is handled. Duration 600 ms by bot id=7862612604
2025-05-27 00:42:29,168 - aiogram.event - INFO - Update id=870286827 is handled. Duration 208 ms by bot id=7862612604
2025-05-27 00:42:30,409 - aiogram.event - INFO - Update id=870286828 is not handled. Duration 1 ms by bot id=7862612604
2025-05-27 00:42:30,409 - aiogram.event - ERROR - Cause exception while process update id=870286828 by bot id=7862612604
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 228, in handle_edit_field_choice
    await callback.message.edit_text("  :", reply_markup=cancel_button())
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/types/message.py", line 3634, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-05-27 00:46:07,661 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-05-27 00:46:07,662 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 00:46:19,208 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 00:49:00,948 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:49:00,948 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:49:00,949 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:49:03,777 - utils.database - INFO - Database initialized successfully
2025-05-27 00:49:03,778 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:49:04,463 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:49:07,747 - aiogram.event - INFO - Update id=870286829 is handled. Duration 548 ms by bot id=7862612604
2025-05-27 00:49:09,132 - aiogram.event - INFO - Update id=870286830 is handled. Duration 143 ms by bot id=7862612604
2025-05-27 00:49:10,199 - aiogram.event - INFO - Update id=870286831 is handled. Duration 209 ms by bot id=7862612604
2025-05-27 00:49:26,287 - aiogram.event - INFO - Update id=870286832 is not handled. Duration 191 ms by bot id=7862612604
2025-05-27 00:49:26,288 - aiogram.event - ERROR - Cause exception while process update id=870286832 by bot id=7862612604
NameError: name 'state' is not defined
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 217, in edit_title
    await handle_edit_return(message, " !")
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 263, in handle_edit_return
    await state.set_state(Form.EDIT_WISH_CHOICE)
          ^^^^^
NameError: name 'state' is not defined. Did you mean: 'status'?
2025-05-27 00:49:29,661 - aiogram.event - INFO - Update id=870286833 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 00:49:47,908 - aiogram.event - INFO - Update id=870286834 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 00:50:10,742 - aiogram.event - INFO - Update id=870286835 is not handled. Duration 233 ms by bot id=7862612604
2025-05-27 00:50:10,742 - aiogram.event - ERROR - Cause exception while process update id=870286835 by bot id=7862612604
NameError: name 'state' is not defined
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 217, in edit_title
    await handle_edit_return(message, " !")
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 263, in handle_edit_return
    await state.set_state(Form.EDIT_WISH_CHOICE)
          ^^^^^
NameError: name 'state' is not defined. Did you mean: 'status'?
2025-05-27 00:50:16,060 - aiogram.event - INFO - Update id=870286836 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 00:50:19,355 - aiogram.event - INFO - Update id=870286837 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 00:50:56,011 - aiogram.event - INFO - Update id=870286838 is handled. Duration 200 ms by bot id=7862612604
2025-05-27 00:50:59,248 - aiogram.event - INFO - Update id=870286839 is handled. Duration 133 ms by bot id=7862612604
2025-05-27 00:51:00,757 - aiogram.event - INFO - Update id=870286840 is handled. Duration 174 ms by bot id=7862612604
2025-05-27 00:51:04,481 - aiogram.event - INFO - Update id=870286841 is not handled. Duration 193 ms by bot id=7862612604
2025-05-27 00:51:04,481 - aiogram.event - ERROR - Cause exception while process update id=870286841 by bot id=7862612604
NameError: name 'state' is not defined
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 217, in edit_title
    await handle_edit_return(message, " !")
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 263, in handle_edit_return
    await state.set_state(Form.EDIT_WISH_CHOICE)
          ^^^^^
NameError: name 'state' is not defined. Did you mean: 'status'?
2025-05-27 00:51:05,964 - aiogram.event - INFO - Update id=870286842 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 00:51:11,902 - aiogram.event - INFO - Update id=870286843 is handled. Duration 182 ms by bot id=7862612604
2025-05-27 00:51:14,290 - aiogram.event - INFO - Update id=870286844 is handled. Duration 139 ms by bot id=7862612604
2025-05-27 00:52:05,826 - aiogram.event - INFO - Update id=870286845 is handled. Duration 183 ms by bot id=7862612604
2025-05-27 00:52:55,478 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:52:55,479 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:52:55,479 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:52:59,656 - utils.database - INFO - Database initialized successfully
2025-05-27 00:52:59,657 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:53:00,370 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:53:01,110 - aiogram.event - INFO - Update id=870286846 is handled. Duration 606 ms by bot id=7862612604
2025-05-27 00:53:02,856 - aiogram.event - INFO - Update id=870286847 is handled. Duration 143 ms by bot id=7862612604
2025-05-27 00:53:04,060 - aiogram.event - INFO - Update id=870286848 is handled. Duration 176 ms by bot id=7862612604
2025-05-27 00:53:07,952 - aiogram.event - INFO - Update id=870286849 is not handled. Duration 26 ms by bot id=7862612604
2025-05-27 00:53:07,952 - aiogram.event - ERROR - Cause exception while process update id=870286849 by bot id=7862612604
TypeError: handle_edit_return() missing 1 required positional argument: 'state'
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 217, in edit_title
    await handle_edit_return(message, " !")
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: handle_edit_return() missing 1 required positional argument: 'state'
2025-05-27 00:54:29,069 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:54:29,069 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:54:29,070 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:54:32,393 - utils.database - INFO - Database initialized successfully
2025-05-27 00:54:32,394 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:54:33,265 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:54:34,027 - aiogram.event - INFO - Update id=870286850 is handled. Duration 567 ms by bot id=7862612604
2025-05-27 00:54:35,584 - aiogram.event - INFO - Update id=870286851 is handled. Duration 170 ms by bot id=7862612604
2025-05-27 00:54:36,711 - aiogram.event - INFO - Update id=870286852 is handled. Duration 159 ms by bot id=7862612604
2025-05-27 00:54:42,889 - aiogram.event - INFO - Update id=870286853 is handled. Duration 223 ms by bot id=7862612604
2025-05-27 00:54:44,846 - aiogram.event - INFO - Update id=870286854 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 00:54:44,846 - aiogram.event - ERROR - Cause exception while process update id=870286854 by bot id=7862612604
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 204, in handle_edit_field_choice
    await callback.message.edit_text("  ", reply_markup=main_menu())
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/types/message.py", line 3634, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-05-27 00:56:08,757 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 00:56:08,757 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 00:57:04,070 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Connection reset by peer]
2025-05-27 00:57:04,071 - aiogram.dispatcher - WARNING - Sleep for 1.408686 seconds and try again... (tryings = 1, bot id = 7862612604)
2025-05-27 00:58:05,682 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 00:58:05,682 - aiogram.dispatcher - WARNING - Sleep for 1.801309 seconds and try again... (tryings = 2, bot id = 7862612604)
2025-05-27 00:58:18,007 - aiogram.dispatcher - INFO - Connection established (tryings = 3, bot id = 7862612604)
2025-05-27 00:58:50,446 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 00:58:50,446 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:58:50,447 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 00:58:53,745 - utils.database - INFO - Database initialized successfully
2025-05-27 00:58:53,746 - aiogram.dispatcher - INFO - Start polling
2025-05-27 00:58:54,468 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 00:58:59,024 - aiogram.event - INFO - Update id=870286855 is handled. Duration 498 ms by bot id=7862612604
2025-05-27 00:59:18,040 - aiogram.event - INFO - Update id=870286856 is handled. Duration 206 ms by bot id=7862612604
2025-05-27 00:59:21,696 - aiogram.event - INFO - Update id=870286857 is handled. Duration 165 ms by bot id=7862612604
2025-05-27 00:59:25,820 - aiogram.event - INFO - Update id=870286858 is handled. Duration 188 ms by bot id=7862612604
2025-05-27 00:59:30,373 - aiogram.event - INFO - Update id=870286859 is handled. Duration 182 ms by bot id=7862612604
2025-05-27 00:59:32,566 - aiogram.event - INFO - Update id=870286860 is handled. Duration 177 ms by bot id=7862612604
2025-05-27 00:59:34,044 - aiogram.event - INFO - Update id=870286861 is handled. Duration 170 ms by bot id=7862612604
2025-05-27 00:59:36,987 - aiogram.event - INFO - Update id=870286862 is handled. Duration 166 ms by bot id=7862612604
2025-05-27 00:59:42,597 - aiogram.event - INFO - Update id=870286863 is handled. Duration 167 ms by bot id=7862612604
2025-05-27 00:59:43,670 - aiogram.event - INFO - Update id=870286864 is handled. Duration 172 ms by bot id=7862612604
2025-05-27 00:59:45,899 - aiogram.event - INFO - Update id=870286865 is handled. Duration 152 ms by bot id=7862612604
2025-05-27 00:59:51,079 - aiogram.event - INFO - Update id=870286866 is handled. Duration 350 ms by bot id=7862612604
2025-05-27 01:00:01,144 - aiogram.event - INFO - Update id=870286867 is handled. Duration 176 ms by bot id=7862612604
2025-05-27 01:00:03,059 - aiogram.event - INFO - Update id=870286868 is handled. Duration 169 ms by bot id=7862612604
2025-05-27 01:00:04,558 - aiogram.event - INFO - Update id=870286869 is handled. Duration 219 ms by bot id=7862612604
2025-05-27 01:00:06,389 - aiogram.event - INFO - Update id=870286870 is handled. Duration 204 ms by bot id=7862612604
2025-05-27 01:00:10,287 - aiogram.event - INFO - Update id=870286871 is handled. Duration 148 ms by bot id=7862612604
2025-05-27 01:00:12,684 - aiogram.event - INFO - Update id=870286872 is handled. Duration 344 ms by bot id=7862612604
2025-05-27 01:01:38,012 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:01:38,012 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:01:38,012 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:01:41,015 - utils.database - INFO - Database initialized successfully
2025-05-27 01:01:41,016 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:01:41,664 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:01:46,101 - aiogram.event - INFO - Update id=870286873 is handled. Duration 610 ms by bot id=7862612604
2025-05-27 01:01:49,060 - aiogram.event - INFO - Update id=870286874 is handled. Duration 320 ms by bot id=7862612604
2025-05-27 01:01:51,321 - aiogram.event - INFO - Update id=870286875 is handled. Duration 140 ms by bot id=7862612604
2025-05-27 01:01:55,789 - aiogram.event - INFO - Update id=870286876 is handled. Duration 199 ms by bot id=7862612604
2025-05-27 01:01:59,958 - aiogram.event - INFO - Update id=870286877 is handled. Duration 177 ms by bot id=7862612604
2025-05-27 01:02:02,315 - aiogram.event - INFO - Update id=870286878 is handled. Duration 164 ms by bot id=7862612604
2025-05-27 01:02:05,659 - aiogram.event - INFO - Update id=870286879 is handled. Duration 282 ms by bot id=7862612604
2025-05-27 01:03:34,203 - aiogram.event - INFO - Update id=870286880 is handled. Duration 156 ms by bot id=7862612604
2025-05-27 01:04:38,838 - aiogram.event - INFO - Update id=870286881 is handled. Duration 304 ms by bot id=7862612604
2025-05-27 01:04:43,933 - aiogram.event - INFO - Update id=870286882 is handled. Duration 291 ms by bot id=7862612604
2025-05-27 01:05:18,639 - aiogram.event - INFO - Update id=870286883 is handled. Duration 263 ms by bot id=7862612604
2025-05-27 01:05:23,323 - aiogram.event - INFO - Update id=870286884 is handled. Duration 366 ms by bot id=7862612604
2025-05-27 01:05:24,928 - aiogram.event - INFO - Update id=870286885 is handled. Duration 386 ms by bot id=7862612604
2025-05-27 01:05:26,282 - aiogram.event - INFO - Update id=870286886 is handled. Duration 309 ms by bot id=7862612604
2025-05-27 01:06:16,736 - aiogram.event - INFO - Update id=870286887 is handled. Duration 384 ms by bot id=7862612604
2025-05-27 01:06:33,984 - aiogram.event - INFO - Update id=870286888 is handled. Duration 283 ms by bot id=7862612604
2025-05-27 01:06:49,137 - aiogram.event - INFO - Update id=870286889 is handled. Duration 291 ms by bot id=7862612604
2025-05-27 01:11:01,637 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-05-27 01:11:01,637 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 01:11:13,175 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 01:26:12,932 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 01:26:12,932 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 01:27:13,994 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [None]
2025-05-27 01:27:13,994 - aiogram.dispatcher - WARNING - Sleep for 1.445111 seconds and try again... (tryings = 1, bot id = 7862612604)
2025-05-27 01:27:26,133 - aiogram.dispatcher - INFO - Connection established (tryings = 2, bot id = 7862612604)
2025-05-27 01:29:37,987 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:29:37,987 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:29:37,988 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:29:41,566 - utils.database - INFO - Database initialized successfully
2025-05-27 01:29:41,567 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:29:42,254 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:29:47,889 - aiogram.event - INFO - Update id=870286890 is handled. Duration 784 ms by bot id=7862612604
2025-05-27 01:29:48,993 - aiogram.event - INFO - Update id=870286891 is handled. Duration 329 ms by bot id=7862612604
2025-05-27 01:29:50,842 - aiogram.event - INFO - Update id=870286892 is handled. Duration 588 ms by bot id=7862612604
2025-05-27 01:32:11,676 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:32:11,676 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:32:11,676 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:32:14,556 - utils.database - INFO - Database initialized successfully
2025-05-27 01:32:14,556 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:32:15,256 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:32:21,018 - aiogram.event - INFO - Update id=870286893 is handled. Duration 728 ms by bot id=7862612604
2025-05-27 01:32:21,829 - aiogram.event - INFO - Update id=870286894 is handled. Duration 311 ms by bot id=7862612604
2025-05-27 01:32:33,801 - aiogram.event - INFO - Update id=870286895 is handled. Duration 187 ms by bot id=7862612604
2025-05-27 01:32:39,171 - aiogram.event - INFO - Update id=870286896 is handled. Duration 145 ms by bot id=7862612604
2025-05-27 01:32:43,421 - aiogram.event - INFO - Update id=870286897 is handled. Duration 128 ms by bot id=7862612604
2025-05-27 01:32:59,464 - aiogram.event - INFO - Update id=870286898 is handled. Duration 189 ms by bot id=7862612604
2025-05-27 01:33:04,456 - aiogram.event - INFO - Update id=870286899 is handled. Duration 320 ms by bot id=7862612604
2025-05-27 01:33:09,794 - aiogram.event - INFO - Update id=870286900 is handled. Duration 315 ms by bot id=7862612604
2025-05-27 01:33:46,964 - aiogram.event - INFO - Update id=870286901 is handled. Duration 165 ms by bot id=7862612604
2025-05-27 01:33:50,443 - aiogram.event - INFO - Update id=870286902 is handled. Duration 196 ms by bot id=7862612604
2025-05-27 01:35:58,860 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 01:35:58,861 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 01:36:09,827 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientConnectorError: Cannot connect to host api.telegram.org:443 ssl:default [Connection reset by peer]
2025-05-27 01:36:09,827 - aiogram.dispatcher - WARNING - Sleep for 1.298005 seconds and try again... (tryings = 1, bot id = 7862612604)
2025-05-27 01:36:11,504 - aiogram.dispatcher - INFO - Connection established (tryings = 2, bot id = 7862612604)
2025-05-27 01:36:11,858 - aiogram.event - INFO - Update id=870286903 is handled. Duration 353 ms by bot id=7862612604
2025-05-27 01:36:12,348 - aiogram.event - INFO - Update id=870286904 is handled. Duration 149 ms by bot id=7862612604
2025-05-27 01:39:57,034 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:39:57,034 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:39:57,035 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:43:25,298 - utils.database - INFO - Database initialized successfully
2025-05-27 01:43:25,298 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:43:25,959 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:43:34,330 - aiogram.event - INFO - Update id=870286905 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 01:43:34,330 - aiogram.event - ERROR - Cause exception while process update id=870286905 by bot id=7862612604
NameError: name 'format_amount' is not defined
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/balance.py", line 36, in show_balance
    await message.answer(f"  : {format_amount(balance)} ")
                                               ^^^^^^^^^^^^^
NameError: name 'format_amount' is not defined
2025-05-27 01:44:02,196 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:44:02,197 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:44:02,197 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:44:05,100 - utils.database - INFO - Database initialized successfully
2025-05-27 01:44:05,101 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:44:05,567 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:44:08,191 - aiogram.event - INFO - Update id=870286906 is handled. Duration 558 ms by bot id=7862612604
2025-05-27 01:44:16,526 - aiogram.event - INFO - Update id=870286907 is handled. Duration 134 ms by bot id=7862612604
2025-05-27 01:44:30,580 - aiogram.event - INFO - Update id=870286908 is handled. Duration 137 ms by bot id=7862612604
2025-05-27 01:45:50,695 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:45:50,696 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:45:50,696 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:45:53,919 - utils.database - INFO - Database initialized successfully
2025-05-27 01:45:53,919 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:45:54,580 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:45:59,334 - aiogram.event - INFO - Update id=870286909 is handled. Duration 719 ms by bot id=7862612604
2025-05-27 01:46:17,214 - aiogram.event - INFO - Update id=870286910 is handled. Duration 166 ms by bot id=7862612604
2025-05-27 01:46:22,413 - aiogram.event - INFO - Update id=870286911 is handled. Duration 147 ms by bot id=7862612604
2025-05-27 01:46:30,725 - aiogram.event - INFO - Update id=870286912 is handled. Duration 140 ms by bot id=7862612604
2025-05-27 01:46:38,237 - aiogram.event - INFO - Update id=870286913 is handled. Duration 144 ms by bot id=7862612604
2025-05-27 01:46:46,789 - aiogram.event - INFO - Update id=870286914 is handled. Duration 637 ms by bot id=7862612604
2025-05-27 01:50:42,116 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:50:42,116 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:50:42,116 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:50:44,996 - utils.database - INFO - Database initialized successfully
2025-05-27 01:50:44,997 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:50:45,573 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:50:59,797 - aiogram.event - INFO - Update id=870286915 is handled. Duration 1345 ms by bot id=7862612604
2025-05-27 01:52:33,028 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:52:33,029 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:52:33,029 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:52:36,171 - utils.database - INFO - Database initialized successfully
2025-05-27 01:52:36,172 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:52:36,709 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:52:39,279 - aiogram.event - INFO - Update id=870286916 is not handled. Duration 2 ms by bot id=7862612604
2025-05-27 01:52:39,279 - aiogram.event - ERROR - Cause exception while process update id=870286916 by bot id=7862612604
TypeError: unsupported operand type(s) for +=: 'int' and 'str'
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 46, in monthly_report
    await generate_report(message, message.from_user.id, start_date, end_date)
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 164, in generate_report
    total_income += amount
TypeError: unsupported operand type(s) for +=: 'int' and 'str'
2025-05-27 01:53:52,168 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:53:52,168 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:53:52,169 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:53:56,114 - utils.database - INFO - Database initialized successfully
2025-05-27 01:53:56,115 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:53:56,697 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:53:58,457 - aiogram.event - INFO - Update id=870286917 is handled. Duration 1406 ms by bot id=7862612604
2025-05-27 01:54:18,193 - aiogram.event - INFO - Update id=870286918 is not handled. Duration 1 ms by bot id=7862612604
2025-05-27 01:54:27,154 - aiogram.event - INFO - Update id=870286919 is handled. Duration 163 ms by bot id=7862612604
2025-05-27 01:54:31,744 - aiogram.event - INFO - Update id=870286920 is handled. Duration 245 ms by bot id=7862612604
2025-05-27 01:54:34,122 - aiogram.event - INFO - Update id=870286921 is handled. Duration 290 ms by bot id=7862612604
2025-05-27 01:54:41,882 - aiogram.event - INFO - Update id=870286922 is handled. Duration 248 ms by bot id=7862612604
2025-05-27 01:54:42,896 - aiogram.event - INFO - Update id=870286923 is handled. Duration 412 ms by bot id=7862612604
2025-05-27 01:57:49,045 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 01:57:49,046 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:57:49,046 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 01:59:30,725 - utils.database - INFO - Database initialized successfully
2025-05-27 01:59:30,725 - aiogram.dispatcher - INFO - Start polling
2025-05-27 01:59:31,338 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 01:59:40,831 - aiogram.event - INFO - Update id=870286924 is not handled. Duration 2 ms by bot id=7862612604
2025-05-27 02:00:01,762 - aiogram.event - INFO - Update id=870286925 is handled. Duration 453 ms by bot id=7862612604
2025-05-27 02:00:05,519 - aiogram.event - INFO - Update id=870286926 is handled. Duration 468 ms by bot id=7862612604
2025-05-27 02:01:47,254 - aiogram.event - INFO - Update id=870286927 is handled. Duration 139 ms by bot id=7862612604
2025-05-27 02:01:58,973 - aiogram.event - INFO - Update id=870286928 is handled. Duration 179 ms by bot id=7862612604
2025-05-27 02:02:00,802 - aiogram.event - INFO - Update id=870286929 is handled. Duration 157 ms by bot id=7862612604
2025-05-27 02:02:07,925 - aiogram.event - INFO - Update id=870286930 is handled. Duration 258 ms by bot id=7862612604
2025-05-27 02:02:11,453 - aiogram.event - INFO - Update id=870286931 is handled. Duration 298 ms by bot id=7862612604
2025-05-27 02:02:43,800 - aiogram.event - INFO - Update id=870286932 is handled. Duration 176 ms by bot id=7862612604
2025-05-27 02:02:56,829 - aiogram.event - INFO - Update id=870286933 is handled. Duration 186 ms by bot id=7862612604
2025-05-27 02:02:59,154 - aiogram.event - INFO - Update id=870286934 is handled. Duration 177 ms by bot id=7862612604
2025-05-27 02:03:08,611 - aiogram.event - INFO - Update id=870286935 is handled. Duration 689 ms by bot id=7862612604
2025-05-27 02:06:32,116 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:06:32,117 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:06:32,117 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:06:34,987 - utils.database - INFO - Database initialized successfully
2025-05-27 02:06:34,988 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:06:40,540 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:06:46,879 - aiogram.event - INFO - Update id=870286936 is handled. Duration 456 ms by bot id=7862612604
2025-05-27 02:06:56,805 - aiogram.event - INFO - Update id=870286937 is handled. Duration 142 ms by bot id=7862612604
2025-05-27 02:06:59,783 - aiogram.event - INFO - Update id=870286938 is handled. Duration 228 ms by bot id=7862612604
2025-05-27 02:09:05,017 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:09:05,017 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:09:05,017 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:09:08,757 - utils.database - INFO - Database initialized successfully
2025-05-27 02:09:08,757 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:09:09,327 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:09:13,629 - aiogram.event - INFO - Update id=870286939 is handled. Duration 719 ms by bot id=7862612604
2025-05-27 02:09:16,075 - aiogram.event - INFO - Update id=870286940 is handled. Duration 278 ms by bot id=7862612604
2025-05-27 02:09:19,981 - aiogram.event - INFO - Update id=870286941 is not handled. Duration 1 ms by bot id=7862612604
2025-05-27 02:09:19,981 - aiogram.event - ERROR - Cause exception while process update id=870286941 by bot id=7862612604
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 464, in start_income_from_buy
    await callback.message.edit_text("   :", reply_markup=cancel_button())
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/types/message.py", line 3634, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-05-27 02:09:38,006 - aiogram.event - INFO - Update id=870286942 is not handled. Duration 1 ms by bot id=7862612604
2025-05-27 02:09:38,006 - aiogram.event - ERROR - Cause exception while process update id=870286942 by bot id=7862612604
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 457, in cancel_buy
    await callback.message.edit_text("  .", reply_markup=main_menu())
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/types/message.py", line 3634, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-05-27 02:09:42,194 - aiogram.event - INFO - Update id=870286943 is handled. Duration 150 ms by bot id=7862612604
2025-05-27 02:09:43,978 - aiogram.event - INFO - Update id=870286944 is handled. Duration 362 ms by bot id=7862612604
2025-05-27 02:09:44,693 - aiogram.event - INFO - Update id=870286945 is not handled. Duration 1 ms by bot id=7862612604
2025-05-27 02:09:44,693 - aiogram.event - ERROR - Cause exception while process update id=870286945 by bot id=7862612604
ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/wishlist.py", line 457, in cancel_buy
    await callback.message.edit_text("  .", reply_markup=main_menu())
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/types/message.py", line 3634, in edit_text
    return EditMessageText(
           ^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for EditMessageText
reply_markup
  Input should be a valid dictionary or instance of InlineKeyboardMarkup [type=model_type, input_value=ReplyKeyboardMarkup(keybo...er=None, selective=None), input_type=ReplyKeyboardMarkup]
    For further information visit https://errors.pydantic.dev/2.11/v/model_type
2025-05-27 02:10:00,435 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:10:00,436 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:10:00,436 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:12:59,771 - utils.database - INFO - Database initialized successfully
2025-05-27 02:12:59,772 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:13:00,345 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:13:01,099 - aiogram.event - INFO - Update id=870286946 is handled. Duration 483 ms by bot id=7862612604
2025-05-27 02:13:02,512 - aiogram.event - INFO - Update id=870286947 is handled. Duration 243 ms by bot id=7862612604
2025-05-27 02:14:05,443 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:14:05,444 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:14:05,444 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:14:09,256 - utils.database - INFO - Database initialized successfully
2025-05-27 02:14:09,257 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:14:09,780 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:14:13,074 - aiogram.event - INFO - Update id=870286948 is handled. Duration 606 ms by bot id=7862612604
2025-05-27 02:14:15,044 - aiogram.event - INFO - Update id=870286949 is handled. Duration 248 ms by bot id=7862612604
2025-05-27 02:14:56,999 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:14:57,000 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:14:57,000 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:15:02,365 - utils.database - INFO - Database initialized successfully
2025-05-27 02:15:02,366 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:15:02,895 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:15:03,496 - aiogram.event - INFO - Update id=870286950 is handled. Duration 485 ms by bot id=7862612604
2025-05-27 02:15:05,334 - aiogram.event - INFO - Update id=870286951 is handled. Duration 224 ms by bot id=7862612604
2025-05-27 02:15:16,133 - aiogram.event - INFO - Update id=870286952 is handled. Duration 136 ms by bot id=7862612604
2025-05-27 02:15:27,032 - aiogram.event - INFO - Update id=870286953 is handled. Duration 113 ms by bot id=7862612604
2025-05-27 02:17:28,273 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:17:28,274 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:17:28,274 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:17:31,155 - utils.database - INFO - Database initialized successfully
2025-05-27 02:17:31,156 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:17:31,717 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:17:38,036 - aiogram.event - INFO - Update id=870286954 is handled. Duration 493 ms by bot id=7862612604
2025-05-27 02:17:39,237 - aiogram.event - INFO - Update id=870286955 is handled. Duration 134 ms by bot id=7862612604
2025-05-27 02:17:43,981 - aiogram.event - INFO - Update id=870286956 is handled. Duration 183 ms by bot id=7862612604
2025-05-27 02:17:45,734 - aiogram.event - INFO - Update id=870286957 is handled. Duration 165 ms by bot id=7862612604
2025-05-27 02:20:28,123 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:20:28,123 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:20:28,123 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:20:30,751 - utils.database - INFO - Database initialized successfully
2025-05-27 02:20:30,751 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:20:31,310 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:20:37,468 - aiogram.event - INFO - Update id=870286958 is handled. Duration 501 ms by bot id=7862612604
2025-05-27 02:20:44,735 - aiogram.event - INFO - Update id=870286959 is handled. Duration 129 ms by bot id=7862612604
2025-05-27 02:20:46,451 - aiogram.event - INFO - Update id=870286960 is handled. Duration 139 ms by bot id=7862612604
2025-05-27 02:20:47,935 - aiogram.event - INFO - Update id=870286961 is handled. Duration 173 ms by bot id=7862612604
2025-05-27 02:20:59,539 - aiogram.event - INFO - Update id=870286962 is handled. Duration 202 ms by bot id=7862612604
2025-05-27 02:21:02,390 - aiogram.event - INFO - Update id=870286963 is handled. Duration 142 ms by bot id=7862612604
2025-05-27 02:21:03,070 - aiogram.event - INFO - Update id=870286964 is handled. Duration 113 ms by bot id=7862612604
2025-05-27 02:21:05,405 - aiogram.event - INFO - Update id=870286965 is handled. Duration 183 ms by bot id=7862612604
2025-05-27 02:21:10,878 - aiogram.event - INFO - Update id=870286966 is handled. Duration 209 ms by bot id=7862612604
2025-05-27 02:21:20,074 - aiogram.event - INFO - Update id=870286967 is handled. Duration 617 ms by bot id=7862612604
2025-05-27 02:25:00,366 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:25:00,367 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:25:00,367 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:25:04,485 - utils.database - INFO - Database initialized successfully
2025-05-27 02:25:04,486 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:25:05,083 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:26:21,821 - aiogram.event - INFO - Update id=870286968 is handled. Duration 445 ms by bot id=7862612604
2025-05-27 02:28:28,193 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:28:28,193 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:28:28,193 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:30:25,843 - utils.database - INFO - Database initialized successfully
2025-05-27 02:30:25,843 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:30:26,382 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:30:34,187 - aiogram.event - INFO - Update id=870286969 is handled. Duration 481 ms by bot id=7862612604
2025-05-27 02:30:39,782 - aiogram.event - INFO - Update id=870286970 is handled. Duration 135 ms by bot id=7862612604
2025-05-27 02:30:42,318 - aiogram.event - INFO - Update id=870286971 is handled. Duration 277 ms by bot id=7862612604
2025-05-27 02:30:44,743 - aiogram.event - INFO - Update id=870286972 is handled. Duration 150 ms by bot id=7862612604
2025-05-27 02:30:46,767 - aiogram.event - INFO - Update id=870286973 is handled. Duration 264 ms by bot id=7862612604
2025-05-27 02:30:51,296 - aiogram.event - INFO - Update id=870286974 is handled. Duration 146 ms by bot id=7862612604
2025-05-27 02:30:54,693 - aiogram.event - INFO - Update id=870286975 is handled. Duration 148 ms by bot id=7862612604
2025-05-27 02:30:56,462 - aiogram.event - INFO - Update id=870286976 is handled. Duration 242 ms by bot id=7862612604
2025-05-27 02:31:04,502 - aiogram.event - INFO - Update id=870286977 is handled. Duration 779 ms by bot id=7862612604
2025-05-27 02:31:07,755 - aiogram.event - INFO - Update id=870286978 is handled. Duration 138 ms by bot id=7862612604
2025-05-27 02:31:11,493 - aiogram.event - INFO - Update id=870286979 is handled. Duration 249 ms by bot id=7862612604
2025-05-27 02:31:13,801 - aiogram.event - INFO - Update id=870286980 is handled. Duration 176 ms by bot id=7862612604
2025-05-27 02:31:25,683 - aiogram.event - INFO - Update id=870286981 is handled. Duration 137 ms by bot id=7862612604
2025-05-27 02:31:47,709 - aiogram.event - INFO - Update id=870286982 is handled. Duration 121 ms by bot id=7862612604
2025-05-27 02:33:04,157 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:33:04,158 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:33:04,158 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:33:07,231 - utils.database - INFO - Database initialized successfully
2025-05-27 02:33:07,232 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:33:07,815 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:33:10,058 - aiogram.event - INFO - Update id=870286983 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 02:33:39,064 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:33:39,064 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:33:39,064 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:33:42,158 - utils.database - INFO - Database initialized successfully
2025-05-27 02:33:42,159 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:33:42,893 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:33:47,024 - aiogram.event - INFO - Update id=870286984 is not handled. Duration 0 ms by bot id=7862612604
2025-05-27 02:33:52,722 - aiogram.event - INFO - Update id=870286985 is handled. Duration 449 ms by bot id=7862612604
2025-05-27 02:33:54,168 - aiogram.event - INFO - Update id=870286986 is handled. Duration 159 ms by bot id=7862612604
2025-05-27 02:34:42,707 - aiogram.event - INFO - Update id=870286987 is handled. Duration 229 ms by bot id=7862612604
2025-05-27 02:34:44,161 - aiogram.event - INFO - Update id=870286988 is handled. Duration 186 ms by bot id=7862612604
2025-05-27 02:35:12,998 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:35:12,999 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:35:12,999 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:35:16,407 - utils.database - INFO - Database initialized successfully
2025-05-27 02:35:16,407 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:35:17,009 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:35:23,331 - aiogram.event - INFO - Update id=870286989 is handled. Duration 642 ms by bot id=7862612604
2025-05-27 02:35:25,508 - aiogram.event - INFO - Update id=870286990 is handled. Duration 135 ms by bot id=7862612604
2025-05-27 02:35:28,633 - aiogram.event - INFO - Update id=870286991 is handled. Duration 361 ms by bot id=7862612604
2025-05-27 02:35:32,039 - aiogram.event - INFO - Update id=870286992 is handled. Duration 139 ms by bot id=7862612604
2025-05-27 02:35:34,291 - aiogram.event - INFO - Update id=870286993 is handled. Duration 240 ms by bot id=7862612604
2025-05-27 02:35:40,808 - aiogram.event - INFO - Update id=870286994 is handled. Duration 153 ms by bot id=7862612604
2025-05-27 02:35:47,507 - aiogram.event - INFO - Update id=870286995 is handled. Duration 330 ms by bot id=7862612604
2025-05-27 02:35:58,975 - aiogram.event - INFO - Update id=870286996 is handled. Duration 180 ms by bot id=7862612604
2025-05-27 02:36:07,143 - aiogram.event - INFO - Update id=870286997 is handled. Duration 136 ms by bot id=7862612604
2025-05-27 02:36:13,799 - aiogram.event - INFO - Update id=870286998 is handled. Duration 158 ms by bot id=7862612604
2025-05-27 02:36:30,303 - aiogram.event - INFO - Update id=870286999 is handled. Duration 149 ms by bot id=7862612604
2025-05-27 02:36:37,661 - aiogram.event - INFO - Update id=870287000 is handled. Duration 125 ms by bot id=7862612604
2025-05-27 02:36:47,058 - aiogram.event - INFO - Update id=870287001 is handled. Duration 146 ms by bot id=7862612604
2025-05-27 02:37:12,108 - aiogram.event - INFO - Update id=870287002 is handled. Duration 320 ms by bot id=7862612604
2025-05-27 02:37:13,256 - aiogram.event - INFO - Update id=870287003 is handled. Duration 362 ms by bot id=7862612604
2025-05-27 02:38:01,819 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:38:01,820 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:38:01,820 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:38:04,083 - utils.database - INFO - Database initialized successfully
2025-05-27 02:38:04,083 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:38:04,721 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:38:07,106 - aiogram.event - INFO - Update id=870287004 is handled. Duration 657 ms by bot id=7862612604
2025-05-27 02:38:08,191 - aiogram.event - INFO - Update id=870287005 is handled. Duration 272 ms by bot id=7862612604
2025-05-27 02:38:29,434 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:38:29,435 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:38:29,435 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:40:03,714 - utils.database - INFO - Database initialized successfully
2025-05-27 02:40:03,715 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:40:04,258 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:40:41,352 - aiogram.event - INFO - Update id=870287006 is handled. Duration 503 ms by bot id=7862612604
2025-05-27 02:41:15,950 - aiogram.event - INFO - Update id=870287007 is handled. Duration 253 ms by bot id=7862612604
2025-05-27 02:41:23,186 - aiogram.event - INFO - Update id=870287008 is handled. Duration 131 ms by bot id=7862612604
2025-05-27 02:41:35,212 - aiogram.event - INFO - Update id=870287009 is handled. Duration 175 ms by bot id=7862612604
2025-05-27 02:41:37,558 - aiogram.event - INFO - Update id=870287010 is handled. Duration 149 ms by bot id=7862612604
2025-05-27 02:42:07,036 - aiogram.event - INFO - Update id=870287011 is handled. Duration 130 ms by bot id=7862612604
2025-05-27 02:43:01,041 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:43:01,041 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:43:01,041 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:43:03,806 - utils.database - INFO - Database initialized successfully
2025-05-27 02:43:03,807 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:43:04,377 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:43:08,753 - aiogram.event - INFO - Update id=870287012 is not handled. Duration 2 ms by bot id=7862612604
2025-05-27 02:43:14,508 - aiogram.event - INFO - Update id=870287013 is not handled. Duration 2 ms by bot id=7862612604
2025-05-27 02:43:20,203 - aiogram.event - INFO - Update id=870287014 is handled. Duration 530 ms by bot id=7862612604
2025-05-27 02:43:21,871 - aiogram.event - INFO - Update id=870287015 is not handled. Duration 2 ms by bot id=7862612604
2025-05-27 02:44:22,563 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:44:22,564 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:44:22,564 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:44:26,365 - utils.database - INFO - Database initialized successfully
2025-05-27 02:44:26,366 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:44:26,982 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:44:33,096 - aiogram.event - INFO - Update id=870287016 is handled. Duration 462 ms by bot id=7862612604
2025-05-27 02:44:36,335 - aiogram.event - INFO - Update id=870287017 is handled. Duration 193 ms by bot id=7862612604
2025-05-27 02:44:43,616 - aiogram.event - INFO - Update id=870287018 is handled. Duration 181 ms by bot id=7862612604
2025-05-27 02:45:22,020 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:45:22,020 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:45:22,020 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:45:24,587 - utils.database - INFO - Database initialized successfully
2025-05-27 02:45:24,588 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:45:25,247 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:45:28,613 - aiogram.event - INFO - Update id=870287019 is handled. Duration 736 ms by bot id=7862612604
2025-05-27 02:50:32,861 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:50:32,861 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:50:32,861 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:50:35,406 - utils.database - INFO - Database initialized successfully
2025-05-27 02:50:35,407 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:50:36,031 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:50:40,580 - aiogram.event - INFO - Update id=870287020 is handled. Duration 541 ms by bot id=7862612604
2025-05-27 02:52:09,576 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:52:09,576 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:52:09,576 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:52:45,073 - utils.database - INFO - Database initialized successfully
2025-05-27 02:52:45,074 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:52:45,826 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:52:46,465 - aiogram.event - INFO - Update id=870287021 is handled. Duration 518 ms by bot id=7862612604
2025-05-27 02:54:13,053 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 02:54:13,054 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:54:13,054 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 02:54:15,924 - utils.database - INFO - Database initialized successfully
2025-05-27 02:54:15,925 - aiogram.dispatcher - INFO - Start polling
2025-05-27 02:54:16,489 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 02:54:17,144 - aiogram.event - INFO - Update id=870287022 is handled. Duration 537 ms by bot id=7862612604
2025-05-27 10:03:27,496 - utils.database - INFO - Database initialized successfully
2025-05-27 10:03:27,497 - aiogram.dispatcher - INFO - Start polling
2025-05-27 10:03:28,387 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 11:45:40,458 - aiogram.event - INFO - Update id=870287023 is handled. Duration 817 ms by bot id=7862612604
2025-05-27 11:45:43,630 - aiogram.event - INFO - Update id=870287024 is handled. Duration 199 ms by bot id=7862612604
2025-05-27 11:45:49,672 - aiogram.event - INFO - Update id=870287025 is handled. Duration 307 ms by bot id=7862612604
2025-05-27 11:45:54,382 - aiogram.event - INFO - Update id=870287026 is handled. Duration 408 ms by bot id=7862612604
2025-05-27 11:45:58,376 - aiogram.event - INFO - Update id=870287027 is handled. Duration 204 ms by bot id=7862612604
2025-05-27 11:46:00,117 - aiogram.event - INFO - Update id=870287028 is handled. Duration 307 ms by bot id=7862612604
2025-05-27 11:46:02,168 - aiogram.event - INFO - Update id=870287029 is handled. Duration 207 ms by bot id=7862612604
2025-05-27 11:46:23,671 - aiogram.event - INFO - Update id=870287030 is handled. Duration 310 ms by bot id=7862612604
2025-05-27 11:46:28,791 - aiogram.event - INFO - Update id=870287031 is handled. Duration 309 ms by bot id=7862612604
2025-05-27 11:46:31,455 - aiogram.event - INFO - Update id=870287032 is handled. Duration 311 ms by bot id=7862612604
2025-05-27 11:46:41,802 - aiogram.event - INFO - Update id=870287033 is handled. Duration 312 ms by bot id=7862612604
2025-05-27 11:47:25,248 - aiogram.event - INFO - Update id=870287034 is handled. Duration 237 ms by bot id=7862612604
2025-05-27 11:47:29,416 - aiogram.event - INFO - Update id=870287035 is handled. Duration 1333 ms by bot id=7862612604
2025-05-27 13:30:56,666 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 13:30:56,666 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 13:31:08,423 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 13:56:11,404 - aiogram.event - INFO - Update id=870287036 is handled. Duration 508 ms by bot id=7862612604
2025-05-27 14:01:01,095 - aiogram.event - INFO - Update id=870287037 is handled. Duration 514 ms by bot id=7862612604
2025-05-27 14:01:05,063 - aiogram.event - INFO - Update id=870287038 is handled. Duration 282 ms by bot id=7862612604
2025-05-27 14:01:36,728 - aiogram.event - INFO - Update id=870287039 is handled. Duration 1332 ms by bot id=7862612604
2025-05-27 14:02:34,783 - aiogram.event - INFO - Update id=870287040 is handled. Duration 201 ms by bot id=7862612604
2025-05-27 14:02:53,530 - aiogram.event - INFO - Update id=870287041 is handled. Duration 430 ms by bot id=7862612604
2025-05-27 14:02:54,958 - aiogram.event - INFO - Update id=870287042 is handled. Duration 608 ms by bot id=7862612604
2025-05-27 14:02:55,982 - aiogram.event - INFO - Update id=870287043 is handled. Duration 613 ms by bot id=7862612604
2025-05-27 14:03:03,867 - aiogram.event - INFO - Update id=870287044 is handled. Duration 614 ms by bot id=7862612604
2025-05-27 17:10:47,183 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 17:10:47,183 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 17:10:58,796 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 17:22:16,407 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 17:22:16,408 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 17:22:27,755 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 17:29:36,185 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 17:29:36,185 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 17:29:48,089 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 17:32:00,672 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 1] [SSL: DECRYPTION_FAILED_OR_BAD_RECORD_MAC] decryption failed or bad record mac (_ssl.c:2559)
2025-05-27 17:32:00,672 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 17:32:12,472 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 17:41:47,175 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 17:41:47,176 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 17:41:54,489 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 17:41:54,489 - aiogram.dispatcher - WARNING - Sleep for 1.384531 seconds and try again... (tryings = 1, bot id = 7862612604)
2025-05-27 17:42:06,544 - aiogram.dispatcher - INFO - Connection established (tryings = 2, bot id = 7862612604)
2025-05-27 17:42:06,545 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 17:42:06,546 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 17:42:19,583 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 18:00:44,565 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 18:00:44,566 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 18:00:55,916 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 18:14:18,315 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 18:14:18,316 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 18:14:29,670 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 19:07:37,964 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 19:07:37,964 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 19:07:49,576 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 19:10:28,693 - aiogram.event - INFO - Update id=870287045 is handled. Duration 1222 ms by bot id=7862612604
2025-05-27 19:10:34,837 - aiogram.event - INFO - Update id=870287046 is handled. Duration 194 ms by bot id=7862612604
2025-05-27 19:10:36,784 - aiogram.event - INFO - Update id=870287047 is handled. Duration 301 ms by bot id=7862612604
2025-05-27 19:10:41,596 - aiogram.event - INFO - Update id=870287048 is handled. Duration 290 ms by bot id=7862612604
2025-05-27 19:10:43,235 - aiogram.event - INFO - Update id=870287049 is handled. Duration 283 ms by bot id=7862612604
2025-05-27 19:11:11,087 - aiogram.event - INFO - Update id=870287050 is handled. Duration 304 ms by bot id=7862612604
2025-05-27 19:11:14,673 - aiogram.event - INFO - Update id=870287051 is handled. Duration 290 ms by bot id=7862612604
2025-05-27 19:11:18,669 - aiogram.event - INFO - Update id=870287052 is handled. Duration 409 ms by bot id=7862612604
2025-05-27 19:11:20,964 - aiogram.event - INFO - Update id=870287053 is handled. Duration 144 ms by bot id=7862612604
2025-05-27 19:11:30,653 - aiogram.event - INFO - Update id=870287054 is handled. Duration 291 ms by bot id=7862612604
2025-05-27 19:11:52,461 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 19:11:52,461 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 19:11:52,462 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 19:12:13,655 - utils.database - INFO - Database initialized successfully
2025-05-27 19:12:13,659 - aiogram.dispatcher - INFO - Start polling
2025-05-27 19:12:14,460 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 19:19:37,440 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 19:19:37,441 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 19:19:37,441 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 19:19:40,336 - utils.database - INFO - Database initialized successfully
2025-05-27 19:19:40,336 - aiogram.dispatcher - INFO - Start polling
2025-05-27 19:19:41,223 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 19:19:48,025 - aiogram.event - INFO - Update id=870287055 is handled. Duration 1039 ms by bot id=7862612604
2025-05-27 19:20:01,010 - aiogram.event - INFO - Update id=870287056 is handled. Duration 207 ms by bot id=7862612604
2025-05-27 19:20:03,982 - aiogram.event - INFO - Update id=870287057 is handled. Duration 411 ms by bot id=7862612604
2025-05-27 19:20:36,112 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 19:20:36,112 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 19:20:36,112 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 19:20:39,089 - utils.database - INFO - Database initialized successfully
2025-05-27 19:20:39,089 - aiogram.dispatcher - INFO - Start polling
2025-05-27 19:20:39,923 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 19:20:45,036 - aiogram.event - INFO - Update id=870287058 is handled. Duration 1204 ms by bot id=7862612604
2025-05-27 19:20:49,243 - aiogram.event - INFO - Update id=870287059 is handled. Duration 188 ms by bot id=7862612604
2025-05-27 19:20:52,876 - aiogram.event - INFO - Update id=870287060 is handled. Duration 200 ms by bot id=7862612604
2025-05-27 19:20:57,330 - aiogram.event - INFO - Update id=870287061 is handled. Duration 264 ms by bot id=7862612604
2025-05-27 19:21:02,274 - aiogram.event - INFO - Update id=870287062 is handled. Duration 330 ms by bot id=7862612604
2025-05-27 19:21:07,270 - aiogram.event - INFO - Update id=870287063 is handled. Duration 220 ms by bot id=7862612604
2025-05-27 19:21:09,728 - aiogram.event - INFO - Update id=870287064 is handled. Duration 208 ms by bot id=7862612604
2025-05-27 19:21:12,385 - aiogram.event - INFO - Update id=870287065 is handled. Duration 299 ms by bot id=7862612604
2025-05-27 19:21:16,997 - aiogram.event - INFO - Update id=870287066 is handled. Duration 208 ms by bot id=7862612604
2025-05-27 19:21:20,372 - aiogram.event - INFO - Update id=870287067 is handled. Duration 408 ms by bot id=7862612604
2025-05-27 19:21:27,567 - aiogram.event - INFO - Update id=870287068 is handled. Duration 540 ms by bot id=7862612604
2025-05-27 19:21:40,293 - aiogram.event - INFO - Update id=870287069 is handled. Duration 261 ms by bot id=7862612604
2025-05-27 19:21:43,615 - aiogram.event - INFO - Update id=870287070 is handled. Duration 533 ms by bot id=7862612604
2025-05-27 19:21:48,242 - aiogram.event - INFO - Update id=870287071 is handled. Duration 2269 ms by bot id=7862612604
2025-05-27 19:41:28,377 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 19:41:28,378 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 19:41:45,038 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 20:43:37,329 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-05-27 20:43:37,330 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 20:43:48,947 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 21:31:12,197 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 21:31:12,198 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 21:31:34,958 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 21:53:59,006 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 21:53:59,008 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 21:54:10,544 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 22:00:29,689 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 22:00:29,694 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 22:00:41,211 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 22:02:52,338 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-05-27 22:02:52,340 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 22:03:04,430 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 22:03:05,100 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 22:03:05,100 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 22:03:30,259 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 22:10:23,087 - aiogram.event - INFO - Update id=870287072 is handled. Duration 981 ms by bot id=7862612604
2025-05-27 22:10:26,796 - aiogram.event - INFO - Update id=870287073 is handled. Duration 345 ms by bot id=7862612604
2025-05-27 22:10:44,518 - aiogram.event - INFO - Update id=870287074 is handled. Duration 377 ms by bot id=7862612604
2025-05-27 22:11:01,620 - aiogram.event - INFO - Update id=870287075 is handled. Duration 202 ms by bot id=7862612604
2025-05-27 22:33:07,961 - utils.database - INFO - Database initialized successfully
2025-05-27 22:33:07,962 - aiogram.dispatcher - INFO - Start polling
2025-05-27 22:33:08,789 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 22:33:34,383 - aiogram.event - INFO - Update id=870287076 is handled. Duration 616 ms by bot id=7862612604
2025-05-27 22:33:38,075 - aiogram.event - INFO - Update id=870287077 is handled. Duration 208 ms by bot id=7862612604
2025-05-27 22:33:40,525 - aiogram.event - INFO - Update id=870287078 is handled. Duration 204 ms by bot id=7862612604
2025-05-27 22:33:52,838 - aiogram.event - INFO - Update id=870287079 is handled. Duration 216 ms by bot id=7862612604
2025-05-27 22:34:00,394 - aiogram.event - INFO - Update id=870287080 is handled. Duration 2253 ms by bot id=7862612604
2025-05-27 22:34:20,670 - aiogram.event - INFO - Update id=870287081 is handled. Duration 1537 ms by bot id=7862612604
2025-05-27 22:34:22,841 - aiogram.event - INFO - Update id=870287082 is handled. Duration 1760 ms by bot id=7862612604
2025-05-27 22:34:30,977 - aiogram.event - INFO - Update id=870287083 is handled. Duration 3342 ms by bot id=7862612604
2025-05-27 22:34:36,849 - aiogram.event - INFO - Update id=870287084 is not handled. Duration 1841 ms by bot id=7862612604
2025-05-27 22:34:36,849 - aiogram.event - ERROR - Cause exception while process update id=870287084 by bot id=7862612604
TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/selector_events.py", line 988, in _read_ready__get_buffer
    nbytes = self._sock.recv_into(buf)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/aiohttp.py", line 177, in make_request
    async with session.post(
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client.py", line 1425, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client.py", line 730, in _request
    await resp.start(conn)
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client_reqrep.py", line 1059, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [Errno 104] Connection reset by peer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 46, in monthly_report
    await generate_report(message, message.from_user.id, start_date, end_date)
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 211, in generate_report
    await message.answer_photo(FSInputFile(graph_path), caption="\U0001F4CA  /")
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/methods/base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/bot.py", line 478, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/aiohttp.py", line 184, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 22:35:10,749 - aiogram.event - INFO - Update id=870287085 is handled. Duration 1947 ms by bot id=7862612604
2025-05-27 22:37:31,283 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-05-27 22:37:31,283 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 22:37:34,207 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-05-27 22:37:34,207 - aiogram.dispatcher - WARNING - Sleep for 1.383187 seconds and try again... (tryings = 1, bot id = 7862612604)
2025-05-27 22:37:45,983 - aiogram.dispatcher - INFO - Connection established (tryings = 2, bot id = 7862612604)
2025-05-27 22:50:30,676 - aiogram.event - INFO - Update id=870287086 is handled. Duration 614 ms by bot id=7862612604
2025-05-27 22:50:51,813 - aiogram.event - INFO - Update id=870287087 is handled. Duration 764 ms by bot id=7862612604
2025-05-27 22:51:21,608 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 22:51:21,608 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 22:52:33,306 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-05-27 22:52:33,306 - aiogram.dispatcher - WARNING - Sleep for 1.177663 seconds and try again... (tryings = 1, bot id = 7862612604)
2025-05-27 22:52:45,454 - aiogram.dispatcher - INFO - Connection established (tryings = 2, bot id = 7862612604)
2025-05-27 22:54:40,384 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 22:54:40,385 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 22:54:40,385 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 22:54:43,218 - utils.database - INFO - Database initialized successfully
2025-05-27 22:54:43,219 - aiogram.dispatcher - INFO - Start polling
2025-05-27 22:54:44,208 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 22:54:51,634 - aiogram.event - INFO - Update id=870287088 is handled. Duration 2564 ms by bot id=7862612604
2025-05-27 22:59:45,545 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 22:59:45,545 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 22:59:45,545 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 22:59:49,376 - utils.database - INFO - Database initialized successfully
2025-05-27 22:59:49,377 - aiogram.dispatcher - INFO - Start polling
2025-05-27 22:59:50,712 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:00:01,367 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:00:01,368 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:00:01,369 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:00:01,369 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:00:01,370 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:00:01,370 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:00:02,261 - aiogram.event - INFO - Update id=870287089 is handled. Duration 3319 ms by bot id=7862612604
2025-05-27 23:09:50,314 - aiogram.event - INFO - Update id=870287090 is handled. Duration 611 ms by bot id=7862612604
2025-05-27 23:10:23,813 - aiogram.event - INFO - Update id=870287091 is handled. Duration 205 ms by bot id=7862612604
2025-05-27 23:10:34,855 - aiogram.event - INFO - Update id=870287092 is handled. Duration 204 ms by bot id=7862612604
2025-05-27 23:10:42,222 - aiogram.event - INFO - Update id=870287093 is handled. Duration 207 ms by bot id=7862612604
2025-05-27 23:11:04,789 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 23:11:04,789 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 23:11:16,144 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 23:13:30,238 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 23:13:30,238 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 23:13:41,802 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 23:18:09,006 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 23:18:09,006 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:18:09,006 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 23:18:11,723 - utils.database - INFO - Database initialized successfully
2025-05-27 23:18:11,724 - aiogram.dispatcher - INFO - Start polling
2025-05-27 23:18:12,453 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:18:26,272 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:18:26,273 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:18:26,906 - aiogram.event - INFO - Update id=870287094 is handled. Duration 2991 ms by bot id=7862612604
2025-05-27 23:23:46,734 - utils.database - INFO - Database initialized successfully
2025-05-27 23:23:46,734 - aiogram.dispatcher - INFO - Start polling
2025-05-27 23:23:48,011 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 23:23:48,011 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 23:27:17,464 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 23:27:17,465 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 23:27:30,954 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 23:28:24,670 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 23:28:24,670 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:28:24,670 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 23:28:27,449 - utils.database - INFO - Database initialized successfully
2025-05-27 23:28:27,449 - aiogram.dispatcher - INFO - Start polling
2025-05-27 23:28:28,243 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:28:33,641 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:33,642 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:34,241 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:34,242 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:34,243 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:34,244 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:34,244 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:34,244 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:35,152 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:35,153 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:35,154 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:35,155 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:28:40,130 - aiogram.event - INFO - Update id=870287095 is handled. Duration 8813 ms by bot id=7862612604
2025-05-27 23:30:03,808 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 23:30:03,808 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 23:31:15,319 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-05-27 23:31:15,319 - aiogram.dispatcher - WARNING - Sleep for 1.370574 seconds and try again... (tryings = 1, bot id = 7862612604)
2025-05-27 23:31:35,418 - aiogram.dispatcher - INFO - Connection established (tryings = 2, bot id = 7862612604)
2025-05-27 23:37:50,292 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 23:37:50,293 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:37:50,293 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 23:37:53,382 - utils.database - INFO - Database initialized successfully
2025-05-27 23:37:53,382 - aiogram.dispatcher - INFO - Start polling
2025-05-27 23:37:54,385 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:38:09,759 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,760 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,849 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,850 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,850 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,851 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,851 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,851 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,972 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,980 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,982 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:09,982 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:19,371 - aiogram.event - INFO - Update id=870287096 is not handled. Duration 21665 ms by bot id=7862612604
2025-05-27 23:38:19,371 - aiogram.event - ERROR - Cause exception while process update id=870287096 by bot id=7862612604
TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/selector_events.py", line 988, in _read_ready__get_buffer
    nbytes = self._sock.recv_into(buf)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/aiohttp.py", line 177, in make_request
    async with session.post(
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client.py", line 1425, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client.py", line 730, in _request
    await resp.start(conn)
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client_reqrep.py", line 1059, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [Errno 104] Connection reset by peer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 46, in monthly_report
    await generate_report(message, message.from_user.id, start_date, end_date)
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 372, in generate_report
    await message.answer_document(FSInputFile(pdf_path), caption=" PDF-")
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/methods/base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/bot.py", line 478, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/aiohttp.py", line 184, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 23:38:19,382 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 23:38:19,382 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 23:38:31,201 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 23:38:42,869 - aiogram.event - INFO - Update id=870287097 is not handled. Duration 7819 ms by bot id=7862612604
2025-05-27 23:38:42,869 - aiogram.event - ERROR - Cause exception while process update id=870287097 by bot id=7862612604
TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
Traceback (most recent call last):
  File "/usr/lib/python3.12/asyncio/selector_events.py", line 988, in _read_ready__get_buffer
    nbytes = self._sock.recv_into(buf)
             ^^^^^^^^^^^^^^^^^^^^^^^^^
ConnectionResetError: [Errno 104] Connection reset by peer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/aiohttp.py", line 177, in make_request
    async with session.post(
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client.py", line 1425, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client.py", line 730, in _request
    await resp.start(conn)
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client_reqrep.py", line 1059, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ClientOSError: [Errno 104] Connection reset by peer

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 46, in monthly_report
    await generate_report(message, message.from_user.id, start_date, end_date)
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 239, in generate_report
    await message.answer("\n".join(report[i:i + 10]))
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/methods/base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/bot.py", line 478, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/aiohttp.py", line 184, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 23:38:48,599 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says - Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-05-27 23:38:48,599 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 23:38:50,158 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 23:38:53,110 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,110 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,195 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,196 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,196 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,197 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,197 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,197 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,322 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,323 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,324 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:53,324 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:38:56,076 - aiogram.event - INFO - Update id=870287098 is handled. Duration 5918 ms by bot id=7862612604
2025-05-27 23:39:33,646 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-27 23:39:33,646 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 23:39:50,798 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 23:45:32,287 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 23:45:32,288 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:45:32,288 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 23:48:26,829 - utils.database - INFO - Database initialized successfully
2025-05-27 23:48:26,829 - aiogram.dispatcher - INFO - Start polling
2025-05-27 23:48:27,672 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:48:37,347 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,348 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,437 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,437 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,438 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,438 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,438 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,439 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,556 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,557 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,559 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:37,559 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:48:39,748 - aiogram.event - INFO - Update id=870287099 is handled. Duration 4497 ms by bot id=7862612604
2025-05-27 23:51:10,766 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 23:51:10,767 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:51:10,767 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 23:51:13,733 - utils.database - INFO - Database initialized successfully
2025-05-27 23:51:13,733 - aiogram.dispatcher - INFO - Start polling
2025-05-27 23:51:14,770 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:51:19,947 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:19,948 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,038 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,039 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,039 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,040 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,040 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,041 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,158 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,159 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,160 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:20,160 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:51:23,370 - aiogram.event - INFO - Update id=870287100 is handled. Duration 5262 ms by bot id=7862612604
2025-05-27 23:54:46,315 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 23:54:46,316 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:54:46,316 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 23:54:49,116 - utils.database - INFO - Database initialized successfully
2025-05-27 23:54:49,117 - aiogram.dispatcher - INFO - Start polling
2025-05-27 23:54:50,284 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:54:52,325 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,326 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,423 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,423 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,424 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,424 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,424 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,425 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,543 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,543 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,545 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:52,545 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:54:54,315 - aiogram.event - INFO - Update id=870287101 is handled. Duration 3573 ms by bot id=7862612604
2025-05-27 23:56:20,860 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-27 23:56:20,861 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:56:20,861 - aiogram.dispatcher - INFO - Polling stopped
2025-05-27 23:56:23,504 - utils.database - INFO - Database initialized successfully
2025-05-27 23:56:23,505 - aiogram.dispatcher - INFO - Start polling
2025-05-27 23:56:27,489 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-27 23:56:35,134 - aiogram.event - INFO - Update id=870287102 is not handled. Duration 7005 ms by bot id=7862612604
2025-05-27 23:56:35,134 - aiogram.event - ERROR - Cause exception while process update id=870287102 by bot id=7862612604
TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/aiohttp.py", line 177, in make_request
    async with session.post(
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client.py", line 1425, in __aenter__
    self._resp: _RetType = await self._coro
                           ^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client.py", line 730, in _request
    await resp.start(conn)
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/client_reqrep.py", line 1059, in start
    message, payload = await protocol.read()  # type: ignore[union-attr]
                       ^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiohttp/streams.py", line 672, in read
    await self._waiter
aiohttp.client_exceptions.ServerDisconnectedError: Server disconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 309, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 158, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/middlewares/user_context.py", line 56, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/fsm/middleware.py", line 42, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/dispatcher.py", line 276, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 174, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 146, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 141, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/router.py", line 166, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/telegram.py", line 121, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/dispatcher/event/handler.py", line 43, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 46, in monthly_report
    await generate_report(message, message.from_user.id, start_date, end_date)
  File "/home/lyalkid/code/finance-bot/handlers/reports.py", line 193, in generate_report
    await message.answer("\n".join(report[i:i + 10]))
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/methods/base.py", line 84, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/bot.py", line 478, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/base.py", line 254, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/lyalkid/code/finance-bot/venv/lib/python3.12/site-packages/aiogram/client/session/aiohttp.py", line 184, in make_request
    raise TelegramNetworkError(method=method, message=f"{type(e).__name__}: {e}")
aiogram.exceptions.TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 23:56:35,142 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-27 23:56:35,143 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-27 23:56:38,698 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-27 23:56:43,184 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,185 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,280 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,280 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,281 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,281 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,281 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,282 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,405 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,406 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,407 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:56:43,408 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-27 23:57:01,929 - aiogram.event - INFO - Update id=870287103 is handled. Duration 23230 ms by bot id=7862612604
2025-05-28 00:00:02,571 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-28 00:00:02,571 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 00:00:02,572 - aiogram.dispatcher - INFO - Polling stopped
2025-05-28 00:00:05,463 - utils.database - INFO - Database initialized successfully
2025-05-28 00:00:05,463 - aiogram.dispatcher - INFO - Start polling
2025-05-28 00:00:06,302 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 00:00:13,925 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:13,926 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,017 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,017 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,018 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,018 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,018 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,019 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,133 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,134 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,135 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:14,135 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:00:16,541 - aiogram.event - INFO - Update id=870287104 is handled. Duration 3879 ms by bot id=7862612604
2025-05-28 00:00:59,365 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-28 00:00:59,365 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 00:00:59,365 - aiogram.dispatcher - INFO - Polling stopped
2025-05-28 00:01:02,457 - utils.database - INFO - Database initialized successfully
2025-05-28 00:01:02,458 - aiogram.dispatcher - INFO - Start polling
2025-05-28 00:01:04,292 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 00:01:13,112 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,112 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,205 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,205 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,206 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,206 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,207 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,207 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,331 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,332 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,333 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:13,333 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 00:01:15,939 - aiogram.event - INFO - Update id=870287105 is handled. Duration 5912 ms by bot id=7862612604
2025-05-28 00:02:34,814 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 00:02:34,814 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 00:02:48,530 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 13:49:31,328 - utils.database - INFO - Database initialized successfully
2025-05-28 13:49:31,329 - aiogram.dispatcher - INFO - Start polling
2025-05-28 13:49:31,973 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 13:56:54,344 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 13:56:54,344 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 13:57:05,672 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:11:20,461 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 14:11:20,461 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:11:32,275 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:14:34,910 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-28 14:14:34,910 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:14:46,295 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:16:17,798 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 14:16:17,798 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:16:29,398 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:21:45,452 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 14:21:45,452 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:21:56,889 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:21:56,890 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 14:21:56,890 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:22:08,418 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:22:24,170 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-28 14:22:24,170 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:22:35,509 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:22:55,736 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 14:22:55,736 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:23:07,359 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:24:24,091 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 14:24:24,091 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:24:54,842 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:32:31,398 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 14:32:31,398 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:32:42,890 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:32:53,120 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 14:32:53,122 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:33:04,449 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:35:05,210 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - Request timeout error
2025-05-28 14:35:05,210 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:35:17,583 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:39:21,857 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 14:39:21,857 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:39:33,384 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 14:44:11,796 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-28 14:44:11,796 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 14:44:59,005 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 15:40:21,581 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 15:40:21,581 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 15:40:32,918 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 15:40:32,919 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 15:40:32,919 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 15:40:44,546 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 15:54:47,467 - aiogram.event - INFO - Update id=870287106 is handled. Duration 1535 ms by bot id=7862612604
2025-05-28 15:54:52,338 - aiogram.event - INFO - Update id=870287107 is handled. Duration 264 ms by bot id=7862612604
2025-05-28 15:54:55,962 - aiogram.event - INFO - Update id=870287108 is handled. Duration 409 ms by bot id=7862612604
2025-05-28 15:54:57,714 - aiogram.event - INFO - Update id=870287109 is handled. Duration 216 ms by bot id=7862612604
2025-05-28 15:55:08,249 - aiogram.event - INFO - Update id=870287110 is handled. Duration 412 ms by bot id=7862612604
2025-05-28 15:55:45,787 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:45,788 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:45,876 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:45,877 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:45,877 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:45,878 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:45,878 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:45,879 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:46,027 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:46,027 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:46,029 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:46,029 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:55:47,922 - aiogram.event - INFO - Update id=870287111 is handled. Duration 3628 ms by bot id=7862612604
2025-05-28 15:56:49,124 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-28 15:56:49,124 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 15:56:49,124 - aiogram.dispatcher - INFO - Polling stopped
2025-05-28 15:56:52,502 - utils.database - INFO - Database initialized successfully
2025-05-28 15:56:52,503 - aiogram.dispatcher - INFO - Start polling
2025-05-28 15:56:53,827 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 15:58:39,453 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-28 15:58:39,453 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 15:58:39,454 - aiogram.dispatcher - INFO - Polling stopped
2025-05-28 15:58:42,211 - utils.database - INFO - Database initialized successfully
2025-05-28 15:58:42,212 - aiogram.dispatcher - INFO - Start polling
2025-05-28 15:58:43,604 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 15:58:49,658 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,658 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,742 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,743 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,743 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,743 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,744 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,744 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,871 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,871 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,873 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:49,873 - matplotlib.category - INFO - Using categorical units to plot a list of strings that are all parsable as floats or dates. If these strings should be plotted as numbers, cast to the appropriate data type before plotting.
2025-05-28 15:58:51,492 - aiogram.event - INFO - Update id=870287112 is handled. Duration 3483 ms by bot id=7862612604
2025-05-28 16:23:32,334 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-28 16:23:32,334 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 16:23:43,775 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 16:23:43,776 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 16:23:43,776 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 16:23:55,574 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 16:29:49,325 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ServerDisconnectedError: Server disconnected
2025-05-28 16:29:49,326 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 16:30:00,638 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 16:33:45,207 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 16:33:45,207 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 16:33:57,135 - aiogram.dispatcher - INFO - Connection established (tryings = 1, bot id = 7862612604)
2025-05-28 16:37:36,821 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 16:37:36,821 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
2025-05-28 16:44:16,154 - utils.database - INFO - Database initialized successfully
2025-05-28 16:44:16,156 - aiogram.dispatcher - INFO - Start polling
2025-05-28 16:44:17,148 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 16:44:43,825 - aiogram.dispatcher - WARNING - Received SIGINT signal
2025-05-28 16:44:43,826 - aiogram.dispatcher - INFO - Polling stopped for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 16:44:43,826 - aiogram.dispatcher - INFO - Polling stopped
2025-05-28 16:44:48,663 - utils.database - INFO - Database initialized successfully
2025-05-28 16:44:48,664 - aiogram.dispatcher - INFO - Start polling
2025-05-28 16:44:49,025 - aiogram.dispatcher - INFO - Run polling for bot @azamatus_finance_bot id=7862612604 - 'finance records'
2025-05-28 16:45:40,082 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramNetworkError: HTTP Client says - ClientOSError: [Errno 104] Connection reset by peer
2025-05-28 16:45:40,083 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 7862612604)
